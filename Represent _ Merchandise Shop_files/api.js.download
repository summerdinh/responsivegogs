!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=97)}([function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(49)("wks"),o=n(34),i=n(1).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){"use strict";t.__esModule=!0;var r=n(84),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){var r=n(1),o=n(0),i=n(19),a=n(17),s=n(16),u=function(e,t,n){var c,f,l,h=e&u.F,p=e&u.G,d=e&u.S,y=e&u.P,v=e&u.B,g=e&u.W,m=p?o:o[t]||(o[t]={}),b=m.prototype,_=p?r:d?r[t]:(r[t]||{}).prototype;p&&(n=t);for(c in n)(f=!h&&_&&void 0!==_[c])&&s(m,c)||(l=f?_[c]:n[c],m[c]=p&&"function"!=typeof _[c]?n[c]:v&&f?i(l,r):g&&_[c]==l?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):y&&"function"==typeof l?i(Function.call,l):l,y&&((m.virtual||(m.virtual={}))[c]=l,e&u.R&&b&&!b[c]&&a(b,c,l)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){var r=n(12);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";var r=n(14),o=n.n(r);t.a={__data:{},clear:function(){var e=this;o()(this.__data).forEach(function(t){delete e.__data[t]})},set:function(e,t){this.__data[e]=t},get:function(e){return this.__data[e]}}},function(e,t,n){"use strict";var r=n(156),o=n(175),i=n(176),a=n(177),s=n(178),u=n(179),c=n(180),f=n(181),l=n(182),h=n(183),p=n(184),d=n(185),y=n(186),v=n(187),g=n(188),m=n(189),b=n(191),_=n(192);t.a={getData:Object(i.a)(r.a),handshake:Object(a.a)(r.a,o.a),openExternalApp:Object(s.a)(r.a),putData:Object(u.a)(r.a),show3DSecure:Object(h.a)(r.a),showInternalBrowser:Object(c.a)(r.a),hideInternalBrowser:Object(f.a)(r.a),openExternalBrowser:Object(l.a)(r.a),heightChanged:Object(p.a)(r.a),fullscreenMoveWebView:Object(d.a)(r.a),fullscreenReplaceOverlay:Object(y.a)(r.a),fullscreenReplaceWebView:Object(v.a)(r.a),fullscreenRestoreWebView:Object(g.a)(r.a),setExperiments:Object(m.a)(r.a),init:r.a.init,isFeatureSupported:o.a.has,getFeatures:o.a.get,isLoaded:b.a,isSupported:_.a}},function(e,t,n){"use strict";n.d(t,"g",function(){return l}),n.d(t,"e",function(){return h}),n.d(t,"f",function(){return p}),n.d(t,"j",function(){return d}),n.d(t,"k",function(){return y}),n.d(t,"d",function(){return v}),n.d(t,"h",function(){return g}),n.d(t,"l",function(){return m}),n.d(t,"m",function(){return b}),n.d(t,"a",function(){return _}),n.d(t,"b",function(){return w}),n.d(t,"c",function(){return E}),n.d(t,"i",function(){return A});var r=n(70),o=n.n(r),i=n(36),a=n.n(i),s=n(74),u=n.n(s),c=n(83),f=n.n(c),l=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The container selector is invalid. Please, check that the used ID or CSS class name is correct and that it targets an existing DOM element.";a()(this,t);var n=u()(this,(t.__proto__||o()(t)).call(this,e));return n.message=e,n.name="InvalidContainerSelectorError",n}return f()(t,e),t}(Error),h=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The client token is invalid. Make sure it has not been tampered with in any way.";a()(this,t);var n=u()(this,(t.__proto__||o()(t)).call(this,e));return n.message=e,n.name="InvalidClientTokenError",n}return f()(t,e),t}(Error),p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The client token signature is invalid. Make sure it has not been tampered with in any way.";a()(this,t);var n=u()(this,(t.__proto__||o()(t)).call(this,e));return n.message=e,n.name="InvalidClientTokenSignatureError",n}return f()(t,e),t}(Error),d=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"A payment method category must be provided for this session.";a()(this,t);var n=u()(this,(t.__proto__||o()(t)).call(this,e));return n.message=e,n.name="PaymentMethodCategoryNotProvidedError",n}return f()(t,e),t}(Error),y=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This payment method category is not supported: "+e;a()(this,t);var r=u()(this,(t.__proto__||o()(t)).call(this,n));return r.message=n,r.name="PaymentMethodCategoryNotSupportedError",r}return f()(t,e),t}(Error),v=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"An instance ID must be provided when the `payment_method_categories` option is used.";a()(this,t);var n=u()(this,(t.__proto__||o()(t)).call(this,e));return n.message=e,n.name="InstanceIDNotProvidedError",n}return f()(t,e),t}(Error),g=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The instance ID must only contain alphabets, numbers, underscores (_) and hyphens (-).";a()(this,t);var n=u()(this,(t.__proto__||o()(t)).call(this,e));return n.message=e,n.name="InvalidInstanceIDError",n}return f()(t,e),t}(Error),m=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Either `payment_method_category` or `instance_id` must be provided for this operation";a()(this,t);var n=u()(this,(t.__proto__||o()(t)).call(this,e));return n.message=e,n.name="PaymentMethodCategoryOrInstanceIDRequiredError",n}return f()(t,e),t}(Error),b=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"The provided preferred payment method is not supported.";a()(this,t);var r=u()(this,(t.__proto__||o()(t)).call(this,n));return r.message=n,r.name="PreferredPaymentMethodNotSupportedError",r}return f()(t,e),t}(Error),_=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The application has not yet been initialized. Call `init` first to initialize it.";a()(this,t);var n=u()(this,(t.__proto__||o()(t)).call(this,e));return n.message=e,n.name="ApplicationNotInitializedError",n}return f()(t,e),t}(Error),w=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The application has not yet been loaded. Call `load` first to load it.";a()(this,t);var n=u()(this,(t.__proto__||o()(t)).call(this,e));return n.message=e,n.name="ApplicationNotLoadedError",n}return f()(t,e),t}(Error),E=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This event name is not supported: "+e;a()(this,t);var r=u()(this,(t.__proto__||o()(t)).call(this,n));return r.message=n,r.name="EventNotSupportedError",r}return f()(t,e),t}(Error),A=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This operation is not supported: "+e;a()(this,t);var r=u()(this,(t.__proto__||o()(t)).call(this,n));return r.message=n,r.name="OperationNotSupportedError",r}return f()(t,e),t}(Error)},function(e,t,n){var r=n(5),o=n(73),i=n(51),a=Object.defineProperty;t.f=n(10)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(20)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports={default:n(157),__esModule:!0}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var r=n(131),o=n(142),i=o;t.a=r.a},function(e,t,n){e.exports={default:n(132),__esModule:!0}},function(e,t,n){"use strict";var r,o=n(88),i=n.n(o),a=n(151),s=n.n(a),u=n(41),c=function(e){return e.replace(/_/g,"-").toLowerCase()},f=function(e){return-1!==e.indexOf("payment-review")?"Klarna Payment Review":"Klarna"},l=["ES","IT","GB"];t.a={trackingPath:"api/_t/v1/credit",app:{version:s.a.trim(),main:{id:function(e){return"klarna-"+c(e)+"-main"},title:f,entry:"main.html",style:{height:"230px",width:"100%",maxWidth:"600px",minWidth:"280px"},loaderStyle:(r={base:{alignItems:"center",display:"inline-flex",flexDirection:"column",flexShrink:"0",height:"230px",maxWidth:"600px",minWidth:"280px",width:"100%",zIndex:"10"}},i()(r,u.c.DOTS,{justifyContent:"center"}),i()(r,u.c.SKELETON,{justifyContent:"flex-start"}),r),timeout:3e4,sandbox:"allow-forms allow-modals allow-popups allow-same-origin allow-scripts",countriesWithAllowedCamera:l,countriesWithLoader:["SE","NO","FI","DK","DE","AT","NL","CH","US","GB"],removalPollInterval:100},fullscreen:{id:function(e){return"klarna-"+c(e)+"-fullscreen"},title:f,entry:"fullscreen.html",style:{border:"0",display:"block",height:"0",left:"0",maxHeight:"100%",maxWidth:"100%",position:"absolute",opacity:"0",top:"0",width:"100%",webkitTransition:"opacity 0.3s",transition:"opacity 0.3s",zIndex:"2147483647"},timeout:3e4,creationDelay:500,sandbox:"allow-forms allow-modals allow-popups allow-same-origin allow-scripts",countriesWithAllowedCamera:l},deviceRecognition:{id:"klarna-payments-device-recognition",path:"klarna-static-assets/device-recognition/1f14eaf",style:{border:"0",display:"block",height:"0",left:"0",position:"absolute",opacity:"0",top:"0",width:"0"},supportedCountries:["US","GB","CH","DE","AT","SE","NO","FI","DK","NL","BE","AU","DK","ES","IT"],type1:{supportedCountries:["US","GB"]},type2:{supportedCountries:["CH"]},type3:{supportedCountries:["US","GB","DE","AT","SE","NO","FI","DK","NL","BE","AU","DK","ES","IT"],orgId:{US:"87rxrdob",EU:"87rxrdob"}},timeout:3e4,sandbox:"allow-same-origin allow-scripts"}},supportedPaymentMethodCategories:["card","direct_bank_transfer","direct_debit","pay_in_parts","pay_later","pay_now","pay_over_time"],paymentMethods:["base_account","deferred_interest","direct_bank_transfer","direct_debit","fixed_amount","invoice","b2b_invoice","pix"]}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(9),o=n(28);e.exports=n(10)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(47);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(35);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports={}},function(e,t,n){var r=n(78),o=n(47);e.exports=function(e){return r(o(e))}},function(e,t,n){"use strict";var r=function(e,t){try{window.localStorage.setItem(e,t)}catch(e){}},o=function(e){try{return window.localStorage.getItem(e)}catch(e){}return null};t.a={set:r,get:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(168),i=r(o),a=n(90),s=r(a);t.default=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=(0,s.default)(e);!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,i.default)(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){"use strict";function r(){return Date.now()+ ++o}t.a=r;var o=0},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return new s.a(function(n,r){var i=e.beforeLoad,a=void 0===i?function(){}:i,s=e.timeout,u=void 0===s?2e4:s,y=o(e.id),v={};if(y){if(y.parentNode===e.container&&!e.reCreateIframe)return a({iframe:y,removeLoader:g(y,v,e)}),void n(y);y.parentNode.removeChild(y),y.removeOnLoadListener()}if(d[e.id]&&(t.clearTimeout(d[e.id]),delete d[e.id]),e.showLoader&&"none"!==e.style.display)try{var _=Object(f.a)({loaderType:e.loaderType}),w=_.el,E=_.styles;v.el=document.createElement("div"),v.el.appendChild(w),v.el.setAttribute("id",e.id+"-loader"),v.tagStyles=E,m(v,e)}catch(e){v.el=null}var A=document.createElement("iframe");A.__ID__=Object(l.a)(),A.setAttribute("id",e.id),A.setAttribute("name",e.id),A.setAttribute("title",e.title),A.setAttribute("scrolling","no"),A.setAttribute("frameborder","0"),e.shouldAllowCamera&&A.setAttribute("allow","camera"),A.frameBorder="0",A.src=e.url,e.sandbox&&A.setAttribute("sandbox",e.sandbox),e.onCreate&&e.onCreate(A),a({iframe:A,removeLoader:g(A,v,e)}),c()(A.style,e.style);var S=t.setTimeout(function(){r(A)},u);d[e.id]=S;var k=function(){t.clearTimeout(S),delete d[e.id],e.onLoad&&e.onLoad(A),e.loaderType===p.c.DOTS&&g(A,v,e)(),n(A)};A.removeOnLoadListener=function(){Object(h.b)(A,"load",k)},Object(h.a)(A,"load",k),b(A,v,e),e.container.appendChild(A)})}function o(e){return document.getElementById(e)}function i(e){try{return e.__ID__}catch(e){return}}t.b=r,t.a=o,t.c=i;var a=n(11),s=n.n(a),u=n(84),c=n.n(u),f=n(197),l=n(25),h=n(198),p=n(41),d={},y=function(e){return!(!e||!e.el)},v=function(e){var t=e&&e.querySelector(".skeleton");t&&t.classList&&t.classList.add("is-hidden")},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(){var r=0;y(t)&&n.loaderType===p.c.SKELETON&&(r=p.b,v(t.el)),setTimeout(function(){y(t)&&t.el.parentNode&&t.el.parentNode.removeChild(t.el),y(t)&&(e.style.display="inline")},r)}},m=function(e,t){var n={};null!=t.loaderStyle&&(n=c()({},t.loaderStyle.base,t.loaderStyle[t.loaderType])),c()(e.el.style,t.style,n)},b=function(e,t,n){y(t)&&(t.tagStyles&&n.container.appendChild(t.tagStyles),n.container.appendChild(t.el),e.style.display="none")}},function(e,t){e.exports=!0},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";var r=n(107)(!0);n(75)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(77),o=n(55);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return!!e}).map(i).join("/")}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"/"===(e||"").substr(-1)?e.slice(0,-1):e}t.b=r,t.a=o;var a=n(14),s=n.n(a)},function(e,t,n){"use strict";function r(){if(!i.a.isSupported()||!o.a.get("nativeHookApi:env"))return null;var e=o.a.get("nativeHookApi:env");return{deviceName:e.deviceName,merchantAppName:e.merchantAppName,merchantAppVersion:e.merchantAppVersion,merchantReturnURL:e.merchantReturnURL,osName:e.osName,osVersion:e.osVersion,nativeVersion:e.nativeVersion}}t.a=r;var o=n(6),i=n(7)},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(105),i=r(o),a=n(115),s=r(a),u="function"==typeof s.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===u(i.default)?function(e){return void 0===e?"undefined":u(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":void 0===e?"undefined":u(e)}},function(e,t,n){var r=n(9).f,o=n(16),i=n(2)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){n(112);for(var r=n(1),o=n(17),i=n(21),a=n(2)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],f=r[c],l=f&&f.prototype;l&&!l[a]&&o(l,a,c),i[c]=i.Array}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i});var r=.8,o=1e3*r,i={DOTS:"dots",SKELETON:"skeleton"}},function(e,t,n){e.exports={default:n(190),__esModule:!0}},function(e,t,n){"use strict";var r=n(6),o=function(e){var t=e.id,n=e.instanceID,o=e.paymentMethodCategory,i=n||o,a=r.a.get("instancesWithApplicationResetDone");if(i){if(a&&-1===a.indexOf(i))return r.a.set("instancesWithApplicationResetDone",a.concat(i)),!0}else if(!1===r.a.get(t+":applicationResetDone"))return r.a.set(t+":applicationResetDone",!0),!0;return!1};t.a=o},function(e,t,n){"use strict";var r=n(65),o=n.n(r),i=n(24),a=n.n(i),s=n(42),u=n.n(s),c=n(3),f=n.n(c),l=n(66),h=n.n(l),p=n(7),d=n(15),y=n(26),v=n(199),g=n(13),m=n(32),b=n(6),_=n(201),w=n(202),E=n(208),A=n(212),S=(n(213),n(216)),k=(n(217),n(41));t.a=function(){function e(e){return t.apply(this,arguments)}var t=h()(o.a.mark(function e(t){var n,r,i,s,c,l,h,C,x,R,P,I,T,L,j,M,D,U,N,B,K,H,F,J=t.id,W=t.iframeName,Y=t.clientToken,V=void 0===Y?{}:Y,z=t.rawClientToken,q=t.container,G=t.tracker,Z=t.options,X=void 0===Z?{}:Z,Q=t.appConfig,$=void 0===Q?{}:Q,ee=t.renderFullscreen,te=void 0===ee||ee;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=V.baseURL,r=V.sessionID,i=V.sessionType,s=V.scheme,c=V.purchaseCountry,l=V.merchantName,h=V.environment,C=V.experiments,x=void 0===C?{}:C,e.next=11;break;case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),G.event(g.b.INVALID_CLIENT_TOKEN_SIGNATURE,{error:e.t0,rawClientToken:z});case 11:return R=f()({},d.a.app,$),P=X.payment_method_category,I=X.payment_method_categories,T=X.instance_id,L=W||T||P||i||J,j=Object(v.a)(J,L),M=function(e,t){G.event(e,f()({},t,{app_version:R.version,payment_method_category:P,payment_method_categories:I,name:L}))},D=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};M(e,f()({},t,{iframe_unique_id:Object(y.c)(n)}))}},U=p.a.isSupported(),N=p.a.getFeatures(),B=Object(m.a)({data:u()({mainIframeID:R.main.id(L),nativeHookApiSupported:U,nativeHookApiFeatures:N,paymentMethodCategory:P,instanceID:T,scheme:s,sessionType:i,sessionID:r,merchantName:l,environment:h})}),K=Object(m.a)({data:u()({onShowExternalDocumentRegistered:!!X.on_show_external_document,fullscreenIframeID:R.fullscreen.id(L),nativeHookApiSupported:U,nativeHookApiFeatures:N,paymentMethodCategory:P,purchaseCountry:c,instanceID:T,scheme:s,sessionType:i,sessionID:r,merchantName:l,environment:h})}),R.deviceRecognition.supportedCountries.indexOf(c)>-1&&(H=!!b.a.get(J+":reCreateDeviceRecognitionIframe"),Object(_.a)(f()({container:document.body,baseURL:n,requestBaseURL:n+"/v1/sessions/"+r,onCreate:D(g.b.DEVICE_RECOGNITION_IFRAME_CREATED),onLoad:D(g.b.DEVICE_RECOGNITION_IFRAME_LOADED),shouldSandbox:!!x.sandbox_iframes,sessionID:r,purchaseCountry:c,reCreateIframe:H},R.deviceRecognition)).then(function(){},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};D(g.b.DEVICE_RECOGNITION_IFRAME_TIMED_OUT)(e)}),b.a.set(J+":reCreateDeviceRecognitionIframe",!1)),F=function(e){return Object(w.a)(f()({name:L,container:document.body,scrollBlockStyleContainer:q,baseURL:b.a.get(J+":versionedBaseURL"),params:B,onCreate:D(g.b.FULLSCREEN_IFRAME_CREATED,{params:B}),onLoad:D(g.b.FULLSCREEN_IFRAME_LOADED),shouldSandbox:!!x.sandbox_iframes,shouldAllowCamera:-1!==(R.fullscreen.countriesWithAllowedCamera||[]).indexOf(c),shouldUseLayoutStyleFix:Object(S.a)()&&x["kp-client-fullscreen-layout-style-fix"]||Object(S.b)()},R.fullscreen),j).then(function(t){return e.send(O("ready")),t},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};throw D(g.b.FULLSCREEN_IFRAME_TIMED_OUT)(t),e.send(O("error")),t})},e.abrupt("return",Object(E.a)(f()({name:L,container:q,showLoader:-1!==R.main.countriesWithLoader.indexOf(c),loaderType:x["kp-client-loader_type"]||k.c.DOTS,baseURL:b.a.get(J+":versionedBaseURL"),params:K,onCreate:D(g.b.MAIN_IFRAME_CREATED,{params:K}),onLoad:D(g.b.MAIN_IFRAME_LOADED),onVisible:D(g.b.MAIN_IFRAME_VISIBLE),onShowExternalDocument:X.on_show_external_document,onRedirect:X.on_redirect,shouldSandbox:!!x.sandbox_iframes,shouldAllowCamera:-1!==(R.main.countriesWithAllowedCamera||[]).indexOf(c)},R.main),j,function(e){return function(){D.apply(void 0,arguments)(e)}}).then(function(e){var t=a()(e,2),n=t[0],r=t[1],o=n.id;return setTimeout(function(){te&&F(r).then(function(e){var t=a()(e,2),i=t[0],s=t[1],u=d.a.app.main.removalPollInterval;Object(A.a)(o,u).then(function(){D(g.b.MAIN_IFRAME_REMOVED)(n),r.destroy();try{i&&i.parentNode&&(i.parentNode.removeChild(i),D(g.b.FULLSCREEN_IFRAME_AUTO_REMOVED)(i)),s.destroy()}catch(e){D(g.b.FULLSCREEN_IFRAME_AUTO_REMOVAL_FAILED)(i)}}).catch(function(e){D(g.b.MAIN_IFRAME_REMOVAL_POLL_FAILED)(n)})}).catch(function(e){r.send(O("error"))})},d.a.app.fullscreen.creationDelay),r},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};throw D(g.b.MAIN_IFRAME_TIMED_OUT)(e),e}));case 26:case"end":return e.stop()}},e,this,[[2,7]])}));return e}();var O=function(e){return{action:"setFullscreenStatus",status:e}}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=t,s=f[a];if(n&&s&&i(s.iframe)!==i(e)){try{s.destroy()}catch(e){}delete f[a]}return f[a]||(s=f[a]=o(e,r),s.iframe=e),s}function o(e,t){return new u.a({sourceID:"library",target:{frame:e},debug:c},s()({},t))}function i(e){return e.__ID__}t.a=r;var a=n(3),s=n.n(a),u=n(204),c=!1,f={}},function(e,t,n){"use strict";var r=function(){return/^(dev-proxy|localhost|0\.0\.0\.0|(.+\.)?klarna\.(com|net))$/.test((arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).location.hostname)};t.a=r},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(49)("keys"),o=n(34);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(0),o=n(1),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(27)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(12),o=n(1).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(12);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(5),o=n(109),i=n(55),a=n(48)("IE_PROTO"),s=function(){},u=function(){var e,t=n(50)("iframe"),r=i.length;for(t.style.display="none",n(79).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[i[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(52),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){t.f=n(2)},function(e,t,n){var r=n(1),o=n(0),i=n(27),a=n(56),s=n(9).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";t.__esModule=!0;var r=n(144),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,o.default)(e)}},function(e,t,n){var r=n(61),o=n(2)("iterator"),i=n(21);e.exports=n(0).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(31),o=n(2)("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),o))?n:i?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=o(t),this.reject=o(n)}var o=n(35);e.exports.f=function(e){return new r(e)}},function(e,t,n){"use strict";function r(){try{var e=Object(o.a)("ku1-vid"),t=Object(o.a)("ku1-sid"),n=Object(o.a)("klarna-shopping-browser-session-id"),r={};if(!e&&!t&&!n)return;return e&&(r.ku1_vid=e),t&&(r.ku1_sid=t),n&&(r.shopping_browser_session_id=n),r}catch(e){}}t.a=r;var o=n(194)},function(e,t,n){"use strict";function r(e){var t=e.scheme,n=e.sessionType,r=e.options,a=e.onError,s=void 0===a?function(){}:a,u=o.a.supportedPaymentMethodCategories,c=o.a.paymentMethods,f=r.payment_method_category,l=r.payment_method_categories,h=r.preferred_payment_method,p=r.instance_id;if("payments"===n){if(!(t||f||Array.isArray(l)&&0!==l.length))throw s("PaymentMethodCategoryNotProvidedError"),new i.j;if(f&&-1===u.indexOf(f))throw s("PaymentMethodCategoryNotSupportedError"),new i.k(f);if(l&&l.forEach(function(e){if(-1===u.indexOf(e))throw s("PaymentMethodCategoryNotSupportedError"),new i.k(e)}),l&&!p)throw s("InstanceIDNotProvidedError"),new i.d;if(l&&!/^[\w-]+$/.test(p))throw s("InvalidInstanceIDError"),new i.h}if(h&&-1===c.indexOf(h))throw s("PreferredPaymentMethodNotSupportedError"),new i.m(c)}t.a=r;var o=n(15),i=n(8)},function(e,t,n){e.exports=n(195)},function(e,t,n){"use strict";t.__esModule=!0;var r=n(11),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){return function(){var t=e.apply(this,arguments);return new o.default(function(e,n){function r(i,a){try{var s=t[i](a),u=s.value}catch(e){return void n(e)}if(!s.done)return o.default.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}},function(e,t,n){"use strict";function r(e,t){u.on(e,t)}function o(e,t){u.removeListener(e,t)}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];u.emit.apply(u,[e].concat(n))}t.c=r,t.b=o,t.a=i;var a=n(200),s=n.n(a),u=new s.a},function(e,t,n){"use strict";t.__esModule=!0;var r=n(89),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";var r=n(100),o=n.n(r),i=n(8),a=n(13),s=n(6),u=n(143),c=n(32),f=n(148),l=n(15),h=n(152),p=n(23),d=n(7),y=l.a.app,v=y.version,g=y.main,m=y.fullscreen,b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.client_token,y=void 0;try{y=o()(r)}catch(e){throw new i.e}var b=Object(a.a)(e),_=Object(c.b)(y.base_url),w=t.__APP_VERSION__||v.trim(),E=(y.session_type||e).toLowerCase(),A=y.language,S=y.purchase_country,k=!!p.a.get("__klarna_payments_local_mode__"),O=k?"http://0.0.0.0:3000":Object(c.b)(_,w),C=window.location.hostname;Object(h.a)([Object(c.b)(O,g.entry),Object(c.b)(O,m.entry)]);var x=s.a.get(e+":rawClientToken");x&&x!==r&&(s.a.set("instancesWithApplicationResetDone",[]),s.a.set(e+":applicationResetDone",!1),s.a.set(e+":reCreateDeviceRecognitionIframe",!0));var R=Object(f.a)(y.experiments),P=!!y.scheme;return d.a.isFeatureSupported("experiments")&&d.a.setExperiments((y.experiments||[]).map(function(e){return{reference:e.name,variate:(e.parameters||{}).variate_id}})),s.a.set(e+":versionedBaseURL",O),s.a.set(e+":previousRawClientToken",x),s.a.set(e+":rawClientToken",r),s.a.set(e+":clientToken",{designID:y.design,analyticsPropertyID:y.analytics_property_id,traceFlow:y.trace_flow,sessionID:y.session_id,environment:y.environment,merchantName:y.merchant_name,clientEventBaseURL:y.client_event_base_url,scheme:P,experiments:R,merchantURL:C,sessionType:E,language:A,purchaseCountry:S,baseURL:_,version:"v1.10.0-59-gbba05d4e"}),s.a.set(e+":initialized",!0),b.configure(y,{session_type:E,merchant_url:C,scheme:P}),s.a.get("apiSetupEventSent")||(b.event(a.b.API_SETUP,{timestamp:s.a.get("setupTimestamp"),app_version:l.a.app.version,api_script_url:Object(u.a)()}),s.a.set("apiSetupEventSent",!0)),b.event(a.b.INIT_CALLED,{client_token:r}),("credit"===E||P)&&Object.defineProperty(t,"initialized",{get:function(){return b.event(a.b.INITIALIZED_FLAG_READ),!0},configurable:!0}),t}};t.a=b},function(e,t,n){e.exports={default:n(103),__esModule:!0}},function(e,t,n){var r=n(16),o=n(18),i=n(48)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(4),o=n(0),i=n(20);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(e,t,n){e.exports=!n(10)&&!n(20)(function(){return 7!=Object.defineProperty(n(50)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";t.__esModule=!0;var r=n(37),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";var r=n(27),o=n(4),i=n(76),a=n(17),s=n(21),u=n(108),c=n(38),f=n(71),l=n(2)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,d,y,v,g){u(n,t,d);var m,b,_,w=function(e){if(!h&&e in k)return k[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",A="values"==y,S=!1,k=e.prototype,O=k[l]||k["@@iterator"]||y&&k[y],C=O||w(y),x=y?A?w("entries"):C:void 0,R="Array"==t?k.entries||O:O;if(R&&(_=f(R.call(new e)))!==Object.prototype&&_.next&&(c(_,E,!0),r||"function"==typeof _[l]||a(_,l,p)),A&&O&&"values"!==O.name&&(S=!0,C=function(){return O.call(this)}),r&&!g||!h&&!S&&k[l]||a(k,l,C),s[t]=C,s[E]=p,y)if(m={values:A?C:w("values"),keys:v?C:w("keys"),entries:x},g)for(b in m)b in k||i(k,b,m[b]);else o(o.P+o.F*(h||S),t,m);return m}},function(e,t,n){e.exports=n(17)},function(e,t,n){var r=n(16),o=n(22),i=n(110)(!1),a=n(48)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var r=n(31);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(1).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(77),o=n(55).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(40),o=n(28),i=n(22),a=n(51),s=n(16),u=n(73),c=Object.getOwnPropertyDescriptor;t.f=n(10)?c:function(e,t){if(e=i(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(124),i=r(o),a=n(128),s=r(a),u=n(37),c=r(u);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,c.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},function(e,t,n){e.exports={default:n(134),__esModule:!0}},function(e,t,n){var r=n(5);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(21),o=n(2)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){var r=n(2)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(89),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e,t,n){return t in e?(0,o.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){e.exports={default:n(149),__esModule:!0}},function(e,t,n){e.exports={default:n(153),__esModule:!0}},function(e,t,n){var r=n(5),o=n(35),i=n(2)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},function(e,t,n){var r,o,i,a=n(19),s=n(161),u=n(79),c=n(50),f=n(1),l=f.process,h=f.setImmediate,p=f.clearImmediate,d=f.MessageChannel,y=f.Dispatch,v=0,g={},m=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){m.call(e.data)};h&&p||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete g[e]},"process"==n(31)(l)?r=function(e){l.nextTick(a(m,e,1))}:y&&y.now?r=function(e){y.now(a(m,e,1))}:d?(o=new d,i=o.port2,o.port1.onmessage=b,r=a(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(e){f.postMessage(e+"","*")},f.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),m.call(e)}}:function(e){setTimeout(a(m,e,1),0)}),e.exports={set:h,clear:p}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(5),o=n(12),i=n(62);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"e",function(){return u});var r="heightChanged",o="fullscreenOverlayShown",i="fullscreenOverlayHidden",a="paymentMethodSelected",s="userAccountLoginRequested",u="userAccountLoginReady"},function(e,t,n){"use strict";var r=n(11),o=n.n(r),i=n(3),a=n.n(i),s=n(36),u=n.n(s),c=n(68),f=n.n(c),l=n(205),h=n.n(l),p=n(206),d=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(u()(this,e),!n.target)throw new Error("Property `options.target` is required.");"[object Object]"===Object.prototype.toString.call(n.debug)?(this.debug=!!n.debug.logs,this.logErrors=!!n.debug.errors):(this.debug=!!n.debug,this.logErrors=this.debug),this.posten=e.createPosten(a()({},n,{debug:this.debug})),this.posten.onMessage=function(){t.posten&&t.posten.hasTarget()&&t.onMessage.apply(t,arguments)},this.messageHandlers={},this.queue=n.queue||[],this.sourceID=n.sourceID||"NO NAME",this.targetIsReady=n.targetIsReady,this.shouldBuffer=!this.targetIsReady,this.autoSyncOnStart=null!=n.autoSyncOnStart?n.autoSyncOnStart:!this.targetIsReady,this.addMessageHandler("@@messenger/ready",this.onReadyMessage.bind(this)),this.addMessageHandler("@@messenger/SYN",this.onSyncMessage.bind(this)),this.addMessageHandler("@@messenger/SYN-ACK",this.onAcknowledgeSyncMessage.bind(this)),this.addMessageHandler("@@messenger/ACK",this.onAcknowledgeMessage.bind(this)),this.addMessageHandler("@@messenger/transferPort",this.onTransferPort.bind(this)),this.startTargetExistenceCheckPolling(n.targetExistenceCheckInterval),this.targetIsReady?this.ready():this.autoSyncOnStart&&this.sync()}return f()(e,null,[{key:"createPosten",value:function(t){var n=t.src,r=void 0===n?window:n,o=t.target,i=t.origin,a=void 0===i?"*":i,s=t.debug,u=t.sourceID,c=t.disableMessageSourceCheck,f={src:r,origin:a,console:h.a,debug:s,sourceID:u,disableMessageSourceCheck:c};return o.url&&(f.origin=e.getOriginFromURL(o.url)),o.window?f.target=o.window:o.frame&&(f.frame=o.frame),new p.a(f)}},{key:"getOriginFromURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.match(/^[a-z]+:\/\/[a-z0-9A-Z\.:\-]+/);if(t)return t[0]}}]),f()(e,[{key:"log",value:function(){if(this.debug){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];h.a.log.apply(h.a,["[Messenger(%s)]",this.sourceID].concat(t))}}},{key:"logError",value:function(){if(this.debug&&this.logErrors){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];h.a.error.apply(h.a,["[Messenger(%s)]",this.sourceID].concat(t))}}},{key:"hasTarget",value:function(){return this.posten&&this.posten.hasTarget()}},{key:"startTargetExistenceCheckPolling",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;this.existenceCheckPoller=setInterval(function(){e.shouldBuffer||e.hasTarget()||(e.log("Target no longer exists. Start buffering."),e.shouldBuffer=!0)},t)}},{key:"sync",value:function(){this.hasTarget()&&(this.posten.send({action:"@@messenger/SYN"}),this.log("SYN"))}},{key:"acknowledgeSync",value:function(){this.hasTarget()&&(this.posten.send({action:"@@messenger/SYN-ACK"}),this.log("SYN-ACK"))}},{key:"acknowledge",value:function(){this.hasTarget()&&(this.posten.send({action:"@@messenger/ACK"}),this.log("ACK"))}},{key:"addMessageHandler",value:function(e,t){var n=this;return this.messageHandlers[e]=t,function(){delete n.messageHandlers[e]}}},{key:"transferPort",value:function(e){this.log("Transfer port:",e),this.send({action:"@@messenger/transferPort",port:e})}},{key:"getPort",value:function(){var e=this;return this.port?o.a.resolve(this.port):new o.a(function(t){e.resolvePortPromise=t})}},{key:"send",value:function(e){!this.shouldBuffer&&this.hasTarget()?this.posten.send(a()({},e,{__sourceID:this.sourceID})):(this.log("Buffering message:",e),this.queue.push(e))}},{key:"ready",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fromPostMessage,n=void 0!==t&&t;this.hasTarget()&&(this.log("Ready to receive messages."),this.shouldBuffer=!1,n||this.send({action:"@@messenger/ready"}),this.flush(this.queue,this.send))}},{key:"flush",value:function(){for(this.log("Flushing buffer:",[].concat(this.queue));this.queue.length>0;)this.send(this.queue.shift())}},{key:"pause",value:function(){this.shouldBuffer=!0}},{key:"destroy",value:function(){clearInterval(this.existenceCheckPoller),this.posten&&this.posten.unbind(),delete this.posten}},{key:"onMessage",value:function(e,t,n){if(e)return void this.logError(e);var r=this.messageHandlers[t.action];"function"==typeof r&&r(t,n)}},{key:"onReadyMessage",value:function(){this.ready({fromPostMessage:!0})}},{key:"onSyncMessage",value:function(e){this.acknowledgeSync()}},{key:"onAcknowledgeSyncMessage",value:function(e){this.ready({fromPostMessage:!0}),this.acknowledge()}},{key:"onAcknowledgeMessage",value:function(e){this.ready({fromPostMessage:!0})}},{key:"onTransferPort",value:function(e,t){var n=t.ports[0];this.log("Received port:",n),!this.port&&this.resolvePortPromise&&this.resolvePortPromise(n),this.port=n}}]),e}();t.a=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(98);Object(r.a)()},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;u.a.set("setupTimestamp",(new Date).getTime());var t=e.Klarna=e.Klarna||{},n=["init","load","authorize","on","off"];t.Credit=o("credit",[].concat(n,["reauthorize","loadPaymentReview"])),t.DirectBankTransfer=o("direct_bank_transfer",[].concat(n,["finalize"])),t.DirectDebit=o("direct_debit",[].concat(n,["reauthorize"])),t.Payments=o("payments",[].concat(n,["reauthorize","finalize","loadPaymentReview"]).concat(Object(c.a)()?["validateCard"]:[])),s.a.isSupported()?(s.a.init(),s.a.handshake().then(function(t){u.a.set("nativeHookApi:env",t),i(e)})):i(e)}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.reduce(function(t,r){return t[r]=a.a[r](e,n),t},n)}function i(e){var t=e.klarnaAsyncCallback;"function"==typeof t&&t()}t.a=r;var a=n(99),s=n(7),u=n(6),c=n(46)},function(e,t,n){"use strict";var r=n(69),o=n(193),i=n(223),a=n(224),s=n(225),u=n(226),c=n(227),f=n(228),l=n(229),h=n(46),p={init:r.a,load:o.a,loadPaymentReview:i.a,authorize:a.a,reauthorize:s.a,finalize:u.a,on:c.a,off:f.a};Object(h.a)()&&(p.validateCard=l.a),t.a=p},function(e,t,n){"use strict";function r(e){this.message=e}var o=n(101);r.prototype=new Error,r.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new r("Invalid token specified");t=t||{};var n=!0===t.header?0:1;try{return JSON.parse(o(e.split(".")[n]))}catch(e){throw new r("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=r},function(e,t,n){function r(e){return decodeURIComponent(o(e).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}var o=n(102);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return r(t)}catch(e){return o(t)}}},function(e,t){function n(e){this.message=e}function r(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,i,a=0,s=0,u="";i=t.charAt(s++);~i&&(r=a%4?64*r+i:i,a++%4)?u+=String.fromCharCode(255&r>>(-2*a&6)):0)i=o.indexOf(i);return u}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.prototype=new Error,n.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||r},function(e,t,n){n(104),e.exports=n(0).Object.getPrototypeOf},function(e,t,n){var r=n(18),o=n(71);n(72)("getPrototypeOf",function(){return function(e){return o(r(e))}})},function(e,t,n){e.exports={default:n(106),__esModule:!0}},function(e,t,n){n(29),n(39),e.exports=n(56).f("iterator")},function(e,t,n){var r=n(52),o=n(47);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(i=s.charCodeAt(u),i<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):i:e?s.slice(u,u+2):a-56320+(i-55296<<10)+65536)}}},function(e,t,n){"use strict";var r=n(53),o=n(28),i=n(38),a={};n(17)(a,n(2)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(9),o=n(5),i=n(30);e.exports=n(10)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(22),o=n(54),i=n(111);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=o(u.length),f=i(a,c);if(e&&n!=n){for(;c>f;)if((s=u[f++])!=s)return!0}else for(;c>f;f++)if((e||f in u)&&u[f]===n)return e||f||0;return!e&&-1}}},function(e,t,n){var r=n(52),o=Math.max,i=Math.min;e.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},function(e,t,n){"use strict";var r=n(113),o=n(114),i=n(21),a=n(22);e.exports=n(75)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(116),__esModule:!0}},function(e,t,n){n(117),n(82),n(122),n(123),e.exports=n(0).Symbol},function(e,t,n){"use strict";var r=n(1),o=n(16),i=n(10),a=n(4),s=n(76),u=n(118).KEY,c=n(20),f=n(49),l=n(38),h=n(34),p=n(2),d=n(56),y=n(57),v=n(119),g=n(120),m=n(5),b=n(12),_=n(18),w=n(22),E=n(51),A=n(28),S=n(53),k=n(121),O=n(81),C=n(58),x=n(9),R=n(30),P=O.f,I=x.f,T=k.f,L=r.Symbol,j=r.JSON,M=j&&j.stringify,D=p("_hidden"),U=p("toPrimitive"),N={}.propertyIsEnumerable,B=f("symbol-registry"),K=f("symbols"),H=f("op-symbols"),F=Object.prototype,J="function"==typeof L&&!!C.f,W=r.QObject,Y=!W||!W.prototype||!W.prototype.findChild,V=i&&c(function(){return 7!=S(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=P(F,t);r&&delete F[t],I(e,t,n),r&&e!==F&&I(F,t,r)}:I,z=function(e){var t=K[e]=S(L.prototype);return t._k=e,t},q=J&&"symbol"==typeof L.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof L},G=function(e,t,n){return e===F&&G(H,t,n),m(e),t=E(t,!0),m(n),o(K,t)?(n.enumerable?(o(e,D)&&e[D][t]&&(e[D][t]=!1),n=S(n,{enumerable:A(0,!1)})):(o(e,D)||I(e,D,A(1,{})),e[D][t]=!0),V(e,t,n)):I(e,t,n)},Z=function(e,t){m(e);for(var n,r=v(t=w(t)),o=0,i=r.length;i>o;)G(e,n=r[o++],t[n]);return e},X=function(e,t){return void 0===t?S(e):Z(S(e),t)},Q=function(e){var t=N.call(this,e=E(e,!0));return!(this===F&&o(K,e)&&!o(H,e))&&(!(t||!o(this,e)||!o(K,e)||o(this,D)&&this[D][e])||t)},$=function(e,t){if(e=w(e),t=E(t,!0),e!==F||!o(K,t)||o(H,t)){var n=P(e,t);return!n||!o(K,t)||o(e,D)&&e[D][t]||(n.enumerable=!0),n}},ee=function(e){for(var t,n=T(w(e)),r=[],i=0;n.length>i;)o(K,t=n[i++])||t==D||t==u||r.push(t);return r},te=function(e){for(var t,n=e===F,r=T(n?H:w(e)),i=[],a=0;r.length>a;)!o(K,t=r[a++])||n&&!o(F,t)||i.push(K[t]);return i};J||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===F&&t.call(H,n),o(this,D)&&o(this[D],e)&&(this[D][e]=!1),V(this,e,A(1,n))};return i&&Y&&V(F,e,{configurable:!0,set:t}),z(e)},s(L.prototype,"toString",function(){return this._k}),O.f=$,x.f=G,n(80).f=k.f=ee,n(40).f=Q,C.f=te,i&&!n(27)&&s(F,"propertyIsEnumerable",Q,!0),d.f=function(e){return z(p(e))}),a(a.G+a.W+a.F*!J,{Symbol:L});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;ne.length>re;)p(ne[re++]);for(var oe=R(p.store),ie=0;oe.length>ie;)y(oe[ie++]);a(a.S+a.F*!J,"Symbol",{for:function(e){return o(B,e+="")?B[e]:B[e]=L(e)},keyFor:function(e){if(!q(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),a(a.S+a.F*!J,"Object",{create:X,defineProperty:G,defineProperties:Z,getOwnPropertyDescriptor:$,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var ae=c(function(){C.f(1)});a(a.S+a.F*ae,"Object",{getOwnPropertySymbols:function(e){return C.f(_(e))}}),j&&a(a.S+a.F*(!J||c(function(){var e=L();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(b(t)||void 0!==e)&&!q(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!q(t))return t}),r[1]=t,M.apply(j,r)}}),L.prototype[U]||n(17)(L.prototype,U,L.prototype.valueOf),l(L,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(e,t,n){var r=n(34)("meta"),o=n(12),i=n(16),a=n(9).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(20)(function(){return u(Object.preventExtensions({}))}),f=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},l=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!u(e))return"F";if(!t)return"E";f(e)}return e[r].i},h=function(e,t){if(!i(e,r)){if(!u(e))return!0;if(!t)return!1;f(e)}return e[r].w},p=function(e){return c&&d.NEED&&u(e)&&!i(e,r)&&f(e),e},d=e.exports={KEY:r,NEED:!1,fastKey:l,getWeak:h,onFreeze:p}},function(e,t,n){var r=n(30),o=n(58),i=n(40);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,s=n(e),u=i.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var r=n(31);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(22),o=n(80).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return o(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?s(e):o(r(e))}},function(e,t,n){n(57)("asyncIterator")},function(e,t,n){n(57)("observable")},function(e,t,n){e.exports={default:n(125),__esModule:!0}},function(e,t,n){n(126),e.exports=n(0).Object.setPrototypeOf},function(e,t,n){var r=n(4);r(r.S,"Object",{setPrototypeOf:n(127).set})},function(e,t,n){var r=n(12),o=n(5),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(19)(Function.call,n(81).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){e.exports={default:n(129),__esModule:!0}},function(e,t,n){n(130);var r=n(0).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(4);r(r.S,"Object",{create:n(53)})},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{configure:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(p[e],t)&&(p[e]=Object(h.a)(a(p[e],t)),d[e]=n)},event:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p[e]&&p[e].event(n,l()({},t,d[e],r))}}}function o(e,t){return!e||i(e,t)}function i(e,t){var n=e.getConfig(),r=s(t);return c()(r).filter(function(e){return r[e]!==n[e]}).length>0}function a(e,t){return l()({},s(t),{instanceId:e&&e.getConfig().instanceId})}function s(e){return{baseUrl:e.client_event_base_url,client:"kp",clientVersion:"v1.10.0-59-gbba05d4e",environment:e.environment,sessionId:e.session_id}}t.a=r;var u=n(14),c=n.n(u),f=n(3),l=n.n(f),h=n(137),p={},d={}},function(e,t,n){n(133),e.exports=n(0).Object.keys},function(e,t,n){var r=n(18),o=n(30);n(72)("keys",function(){return function(e){return o(r(e))}})},function(e,t,n){n(135),e.exports=n(0).Object.assign},function(e,t,n){var r=n(4);r(r.S+r.F,"Object",{assign:n(136)})},function(e,t,n){"use strict";var r=n(10),o=n(30),i=n(58),a=n(40),s=n(18),u=n(78),c=Object.assign;e.exports=!c||n(20)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r})?function(e,t){for(var n=s(e),c=arguments.length,f=1,l=i.f,h=a.f;c>f;)for(var p,d=u(arguments[f++]),y=l?o(d).concat(l(d)):o(d),v=y.length,g=0;v>g;)p=y[g++],r&&!h.call(d,p)||(n[p]=d[p]);return n}:c},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseUrl,n=e.environment;return t||console.log("[Error] client_event_base_url not provided in the clientToken!"),i(n)&&t?Object(a.a)(e):o(e)}function o(e){return console.info("[Tracking (disabled)] Setting up fake instance with config",e),{event:function(){for(var t,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=console).info.apply(t,["[Tracking (disabled)]"].concat(r,[{config:e}]))},getConfig:function(){return e}}}function i(e){return["production","playground","staging"].indexOf(e)>-1}t.a=r;var a=n(138)},function(e,t,n){"use strict";var r=n(139);t.a=r.a},function(e,t,n){"use strict";function r(e){function t(e,t){var n=s()(t).sort().map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");return""+u+h+p+"/"+d+"/"+e+"?"+n}function n(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new TypeError("expected `name` as first parameter");n=i()({},n,{iid:g,sid:y,timestamp:n.timestamp||(new Date).getTime()});var r=t(e,n);l.a.isSupported(o)?l.a.create(r,o):f.a.create(r,o)}function r(){return{baseUrl:u,client:p,clientVersion:d,sessionId:y,instanceId:g}}var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if("object"!==(void 0===e?"undefined":c()(e))||!e)throw new TypeError("expected configuration object");var a=e.baseUrl,u=void 0===a?"https://evt.klarna.com":a,p=e.client,d=e.clientVersion,y=e.sessionId,v=e.instanceId,g=void 0===v?Math.floor(9e3*Math.random())+1e3:v;if("string"!=typeof p)throw new TypeError("expected `client` in the configuration object");if("string"!=typeof d)throw new TypeError("expected `clientVersion` in the configuration object");if("string"!=typeof y)throw new TypeError("expected `sessionId` in the configuration object");return{event:n,getConfig:r}}t.a=r;var o=n(3),i=n.n(o),a=n(14),s=n.n(a),u=n(37),c=n.n(u),f=n(140),l=n(141),h="/v1/"},function(e,t,n){"use strict";t.a={create:function(e,t){(new t.Image).src=e}}},function(e,t,n){"use strict";t.a={create:function(e,t){t.navigator.sendBeacon(e)},isSupported:function(e){return!!e.navigator&&!!e.navigator.sendBeacon}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"API_SETUP",function(){return r}),n.d(t,"INITIALIZED_FLAG_READ",function(){return o}),n.d(t,"AUTHORIZE_CALLED",function(){return i}),n.d(t,"AUTHORIZE_COMPLETED",function(){return a}),n.d(t,"AUTHORIZE_FAILED",function(){return s}),n.d(t,"FULLSCREEN_IFRAME_CREATED",function(){return u}),n.d(t,"FULLSCREEN_IFRAME_LOADED",function(){return c}),n.d(t,"FULLSCREEN_IFRAME_TIMED_OUT",function(){return f}),n.d(t,"FULLSCREEN_IFRAME_AUTO_REMOVED",function(){return l}),n.d(t,"FULLSCREEN_IFRAME_AUTO_REMOVAL_FAILED",function(){return h}),n.d(t,"INIT_CALLED",function(){return p}),n.d(t,"LOAD_CALLED",function(){return d}),n.d(t,"LOAD_COMPLETED",function(){return y}),n.d(t,"LOAD_FAILED",function(){return v}),n.d(t,"LOAD_PAYMENT_REVIEW_CALLED",function(){return g}),n.d(t,"LOAD_PAYMENT_REVIEW_COMPLETED",function(){return m}),n.d(t,"LOAD_PAYMENT_REVIEW_FAILED",function(){return b}),n.d(t,"MAIN_IFRAME_CREATED",function(){return _}),n.d(t,"MAIN_IFRAME_LOADED",function(){return w}),n.d(t,"MAIN_IFRAME_VISIBLE",function(){return E}),n.d(t,"MAIN_IFRAME_TIMED_OUT",function(){return A}),n.d(t,"MAIN_IFRAME_REMOVED",function(){return S}),n.d(t,"MAIN_IFRAME_REMOVAL_POLL_FAILED",function(){return k}),n.d(t,"DEVICE_RECOGNITION_IFRAME_CREATED",function(){return O}),n.d(t,"DEVICE_RECOGNITION_IFRAME_LOADED",function(){return C}),n.d(t,"DEVICE_RECOGNITION_IFRAME_TIMED_OUT",function(){return x}),n.d(t,"REAUTHORIZE_CALLED",function(){return R}),n.d(t,"REAUTHORIZE_COMPLETED",function(){return P}),n.d(t,"REAUTHORIZE_FAILED",function(){return I}),n.d(t,"FINALIZE_CALLED",function(){return T}),n.d(t,"FINALIZE_COMPLETED",function(){return L}),n.d(t,"FINALIZE_FAILED",function(){return j}),n.d(t,"ON_SHOW_EXTERNAL_DOCUMENT_HANDLER_CALLED",function(){return M}),n.d(t,"ON_SHOW_EXTERNAL_DOCUMENT_FALLBACK_CALLED",function(){return D}),n.d(t,"ON_REDIRECT_HANDLER_CALLED",function(){return U}),n.d(t,"AUTHORIZE_UNEXPECTED_ERROR",function(){return N}),n.d(t,"INVALID_CLIENT_TOKEN_SIGNATURE",function(){return B});var r="api_setup",o="initialized_flag_read",i="authorize_called",a="authorize_completed",s="authorize_failed",u="fullscreen_iframe_created",c="fullscreen_iframe_loaded",f="fullscreen_iframe_timed_out",l="fullscreen_iframe_auto_removed",h="fullscreen_iframe_auto_removal_failed",p="init_called",d="load_called",y="load_completed",v="load_failed",g="load_payment_review_called",m="load_payment_review_completed",b="load_payment_review_failed",_="main_iframe_created",w="main_iframe_loaded",E="main_iframe_visible",A="main_iframe_timed_out",S="main_iframe_removed",k="main_iframe_removal_poll_failed",O="dr_iframe_created",C="dr_iframe_loaded",x="dr_iframe_timed_out",R="reauthorize_called",P="reauthorize_completed",I="reauthorize_failed",T="finalize_called",L="finalize_completed",j="finalize_failed",M="on_show_external_document_handler_called",D="on_show_external_document_fallback_called",U="on_redirect_handler_called",N="authorize_unexpected_error",B="invalid_client_token_signature"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.scripts;try{var t=o(function(e){var t=e.src;return s.test(t)},e),n=e[e.length-1];if(t&&t[0]&&t[0].src)return t[0].src;if(n)return n.src}catch(e){}}function o(e,t){return[].concat(a()(t)).filter(e)}t.a=r;var i=n(59),a=n.n(i),s=/^https?:\/\/[^\/]*klarna[^\/]*(?:\/kp)?\/lib\/v[^\/]+\/api\.js(?:\?.*)?$/},function(e,t,n){e.exports={default:n(145),__esModule:!0}},function(e,t,n){n(29),n(146),e.exports=n(0).Array.from},function(e,t,n){"use strict";var r=n(19),o=n(4),i=n(18),a=n(85),s=n(86),u=n(54),c=n(147),f=n(60);o(o.S+o.F*!n(87)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,l,h=i(e),p="function"==typeof this?this:Array,d=arguments.length,y=d>1?arguments[1]:void 0,v=void 0!==y,g=0,m=f(h);if(v&&(y=r(y,d>2?arguments[2]:void 0,2)),void 0==m||p==Array&&s(m))for(t=u(h.length),n=new p(t);t>g;g++)c(n,g,v?y(h[g],g):h[g]);else for(l=m.call(h),n=new p;!(o=l.next()).done;g++)c(n,g,v?a(l,y,[o.value,g],!0):o.value);return n.length=g,n}})},function(e,t,n){"use strict";var r=n(9),o=n(28);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){"use strict";var r=n(88),o=n.n(r),i=n(3),a=n.n(i),s=n(37),u=n.n(s),c=n(23),f=function(e){try{var t=void 0;try{t=JSON.parse(c.a.get("__klarna_experiments__"))}catch(e){}return(t||e||[]).reduce(function(e,t){return"object"===(void 0===t?"undefined":u()(t))&&(t.reference||t.name)?a()({},e,o()({},t.reference||t.name,t.variate||!0)):e},{})}catch(e){}return{}};t.a=f},function(e,t,n){n(150);var r=n(0).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(4);r(r.S+r.F*!n(10),"Object",{defineProperty:n(9).f})},function(e,t){e.exports="v1.0.0-21905-g24a67424ba\n"},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.head;"string"==typeof e&&(e=[e]);try{var n=i("prefetch",e,t);t.appendChild(o(n))}catch(e){}}function o(e){var t=document.createDocumentFragment();return e.forEach(function(e){return t.appendChild(e)}),t}function i(e,t,n){return t.filter(a(n)).map(function(t){var n=document.createElement("link");return n.rel=e,n.href=t,n})}function a(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=u()(e.querySelectorAll('link[rel="prefetch"]'));!(n=(i=a.next()).done);n=!0){var s=i.value;t[s.href]=!0}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return function(e){return!t[e]}}t.a=r;var s=n(90),u=n.n(s);n(155)},function(e,t,n){n(39),n(29),e.exports=n(154)},function(e,t,n){var r=n(5),o=n(60);e.exports=n(0).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[].concat(e.core||[]);return s()(t).forEach(function(r){if(e[r]){var o=e[r][t[r]];o instanceof Array?n.push.apply(n,i()(o)):o&&n.push(o)}}),n}t.a=r;var o=n(59),i=n.n(o),a=n(14),s=n.n(a)},function(e,t,n){"use strict";var r=n(11),o=n.n(r),i=n(24),a=n.n(i),s=n(171),u=n(172),c=[],f={},l=void 0,h=function(){for(;c.length;){var e=c.shift(),t=a()(e,3),n=t[0],r=t[1],o=t[2];d(n,r).then(o)}},p=function(){return Object(u.a)().then(function(e){e.addReceiver("KlarnaPayments",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.messageId,n=e.params;"function"==typeof f[t]&&f[t](n)}),l=e,h()})},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l?new o.a(function(n){var r=Object(s.a)();f[r]=n,l.postMessage({receiver:"Native",sender:"KlarnaPayments",messageId:r,action:e,params:t})}):new o.a(function(n){c.push([e,t,n])})};t.a={init:p,callAction:d}},function(e,t,n){n(82),n(29),n(39),n(158),n(166),n(167),e.exports=n(0).Promise},function(e,t,n){"use strict";var r,o,i,a,s=n(27),u=n(1),c=n(19),f=n(61),l=n(4),h=n(12),p=n(35),d=n(159),y=n(160),v=n(91),g=n(92).set,m=n(162)(),b=n(62),_=n(93),w=n(163),E=n(94),A=u.TypeError,S=u.process,k=S&&S.versions,O=k&&k.v8||"",C=u.Promise,x="process"==f(S),R=function(){},P=o=b.f,I=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[n(2)("species")]=function(e){e(R,R)};return(x||"function"==typeof PromiseRejectionEvent)&&e.then(R)instanceof t&&0!==O.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),T=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},L=function(e,t){if(!e._n){e._n=!0;var n=e._c;m(function(){for(var r=e._v,o=1==e._s,i=0;n.length>i;)!function(t){var n,i,a,s=o?t.ok:t.fail,u=t.resolve,c=t.reject,f=t.domain;try{s?(o||(2==e._h&&D(e),e._h=1),!0===s?n=r:(f&&f.enter(),n=s(r),f&&(f.exit(),a=!0)),n===t.promise?c(A("Promise-chain cycle")):(i=T(n))?i.call(n,u,c):u(n)):c(r)}catch(e){f&&!a&&f.exit(),c(e)}}(n[i++]);e._c=[],e._n=!1,t&&!e._h&&j(e)})}},j=function(e){g.call(u,function(){var t,n,r,o=e._v,i=M(e);if(i&&(t=_(function(){x?S.emit("unhandledRejection",o,e):(n=u.onunhandledrejection)?n({promise:e,reason:o}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=x||M(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(e){g.call(u,function(){var t;x?S.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},U=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),L(t,!0))},N=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw A("Promise can't be resolved itself");(t=T(e))?m(function(){var r={_w:n,_d:!1};try{t.call(e,c(N,r,1),c(U,r,1))}catch(e){U.call(r,e)}}):(n._v=e,n._s=1,L(n,!1))}catch(e){U.call({_w:n,_d:!1},e)}}};I||(C=function(e){d(this,C,"Promise","_h"),p(e),r.call(this);try{e(c(N,this,1),c(U,this,1))}catch(e){U.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(164)(C.prototype,{then:function(e,t){var n=P(v(this,C));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=x?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=c(N,e,1),this.reject=c(U,e,1)},b.f=P=function(e){return e===C||e===a?new i(e):o(e)}),l(l.G+l.W+l.F*!I,{Promise:C}),n(38)(C,"Promise"),n(165)("Promise"),a=n(0).Promise,l(l.S+l.F*!I,"Promise",{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(s||!I),"Promise",{resolve:function(e){return E(s&&this===a?C:this,e)}}),l(l.S+l.F*!(I&&n(87)(function(e){C.all(e).catch(R)})),"Promise",{all:function(e){var t=this,n=P(t),r=n.resolve,o=n.reject,i=_(function(){var n=[],i=0,a=1;y(e,!1,function(e){var s=i++,u=!1;n.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=P(t),r=n.reject,o=_(function(){y(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(19),o=n(85),i=n(86),a=n(5),s=n(54),u=n(60),c={},f={},t=e.exports=function(e,t,n,l,h){var p,d,y,v,g=h?function(){return e}:u(e),m=r(n,l,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(i(g)){for(p=s(e.length);p>b;b++)if((v=t?m(a(d=e[b])[0],d[1]):m(e[b]))===c||v===f)return v}else for(y=g.call(e);!(d=y.next()).done;)if((v=o(y,m,d.value,t))===c||v===f)return v};t.BREAK=c,t.RETURN=f},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(1),o=n(92).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(31)(a);e.exports=function(){var e,t,n,c=function(){var r,o;for(u&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var f=s.resolve(void 0);n=function(){f.then(c)}}else n=function(){o.call(r,c)};else{var l=!0,h=document.createTextNode("");new i(c).observe(h,{characterData:!0}),n=function(){h.data=l=!l}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t,n){var r=n(1),o=r.navigator;e.exports=o&&o.userAgent||""},function(e,t,n){var r=n(17);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},function(e,t,n){"use strict";var r=n(1),o=n(0),i=n(9),a=n(10),s=n(2)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];a&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(4),o=n(0),i=n(1),a=n(91),s=n(94);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(4),o=n(62),i=n(93);r(r.S,"Promise",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){e.exports={default:n(169),__esModule:!0}},function(e,t,n){n(39),n(29),e.exports=n(170)},function(e,t,n){var r=n(61),o=n(2)("iterator"),i=n(21);e.exports=n(0).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(r(t))}},function(e,t,n){"use strict";var r=function(e){return function(){return String(++e)}}(0);t.a=r},function(e,t,n){"use strict";var r=n(11),o=n.n(r),i=n(173),a=n(174),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return e.__KlarnaNativeHook?o.a.resolve(e.__KlarnaNativeHook):Object(i.a)(a.a.sdkBridgeScriptURL).then(function(){return e.__KlarnaNativeHook})};t.a=s},function(e,t,n){"use strict";var r=n(11),o=n.n(r),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return new o.a(function(r,o){setTimeout(function(){o(new Error("Loading of "+e+" timed out."))},t);var i=n.createElement("script");i.src=e,i.onload=r,n.body.appendChild(i)})};t.a=i},function(e,t,n){"use strict";t.a={sdkBridgeScriptURL:"https://x.klarnacdn.net/mobile-sdk/klarna-sdk-js/v1/app.min.js"}},function(e,t,n){"use strict";var r=[],o=function(e){Array.isArray(e)&&(r=e)},i=function(){return r},a=function(e){return r.indexOf(e)>-1};t.a={set:o,get:i,has:a}},function(e,t,n){"use strict";var r=function(e){return function(t){return e.callAction("getData",{key:t})}};t.a=r},function(e,t,n){"use strict";var r=function(e,t){return function(){return e.callAction("handshake",{componentName:"KlarnaPayments",componentVersion:"v1.10.0-59-gbba05d4e"}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o(t,e),e})}},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];-1!==JSON.parse(t.features||"[]").indexOf("experiments")&&n.push("experiments"),e.set(n)};t.a=r},function(e,t,n){"use strict";var r=function(e){return function(t){return e.callAction("openExternalApp",{url:t})}};t.a=r},function(e,t,n){"use strict";var r=function(e){return function(t,n){return e.callAction("putData",{key:t,value:void 0===n?void 0:String(n)})}};t.a=r},function(e,t,n){"use strict";var r=function(e){return function(t){return e.callAction("showInternalBrowser",{url:t})}};t.a=r},function(e,t,n){"use strict";var r=function(e){return function(){return e.callAction("hideInternalBrowser")}};t.a=r},function(e,t,n){"use strict";var r=function(e){return function(t){return e.callAction("openExternalBrowser",{url:t})}};t.a=r},function(e,t,n){"use strict";var r=function(e){return function(t){return e.callAction("show3DSecure",t)}};t.a=r},function(e,t,n){"use strict";var r=function(e){return function(t){return e.callAction("heightChanged",{height:String(t)})}};t.a=r},function(e,t,n){"use strict";var r=function(e){return function(){return e.callAction("fullscreenMoveWebView",{shouldScrollToTop:"true"})}};t.a=r},function(e,t,n){"use strict";var r=function(e){return function(){return e.callAction("fullscreenReplaceOverlay")}};t.a=r},function(e,t,n){"use strict";var r=function(e){return function(){return e.callAction("fullscreenReplaceWebView")}};t.a=r},function(e,t,n){"use strict";var r=function(e){return function(){return e.callAction("fullscreenRestoreWebView")}};t.a=r},function(e,t,n){"use strict";var r=n(42),o=n.n(r),i=function(e){return function(t){e.callAction("setExperiments",{experiments:o()(t)})}};t.a=i},function(e,t,n){var r=n(0),o=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},function(e,t,n){"use strict";var r=function(){return!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).__KlarnaNativeHook};t.a=r},function(e,t,n){"use strict";var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return!!(e.webkit&&e.webkit.messageHandlers&&e.webkit.messageHandlers.KlarnaNativeHookMessageHandler)||!!e.KlarnaNativeHookMessageHandler};t.a=r},function(e,t,n){"use strict";function r(e,t,n){if("function"==typeof t){var r=[t,{}];n=r[0],t=r[1]}else t=t||{},n=n||function(){};return[e||{},t,n]}var o=n(3),i=n.n(o),a=n(24),s=n.n(a),u=n(6),c=n(8),f=n(13),l=n(25),h=n(63),p=n(33),d=n(43),y=n(64),v=n(44),g=n(69),m=n(23),b=n(221),_=n(7),w=n(222),E=function(e,t){return function(n,o,a){var E=r(n,o,a),A=s()(E,3);n=A[0],o=A[1],a=A[2];var S=Object(l.a)(),k=Object(f.a)(e,{api:e,oid:S}),O=Object(p.a)(),C=n.payment_method_category,x=n.payment_method_categories,R=n.preferred_payment_method,P=n.instance_id,I={payment_method_category:C,payment_method_categories:x,preferred_payment_method:R,instance_id:P},T=function(e){return e&&k.event(f.b.LOAD_FAILED,i()({},I,{error:e})),a({show_form:!1})};if(void 0===n.client_token){if(!u.a.get(e+":initialized"))throw T(),new c.a}else Object(g.a)(e,t)({client_token:n.client_token});k.event(f.b.LOAD_CALLED,i()({},I,{client_token:n.client_token}));var L=u.a.get(e+":clientToken"),j=L.scheme,M=L.sessionType,D=n.container;if("string"!=typeof D){if(!(D instanceof HTMLElement))throw T("TypeError(options.container)"),new TypeError("Property `options.container` must be a string (CSS selector) or HTMLElement")}else if(!(D=document.querySelector(D)))throw T("InvalidContainerSelectorError"),new c.g;Object(y.a)({scheme:j,sessionType:M,options:n,onError:T});var U=Object(h.a)(),N=b.a.get("_klarna_access_token"),B=Object(d.a)({id:e,instanceID:P,paymentMethodCategory:C}),K=function(t){var n=function(n){t.call("load",i()({api:e,mdid:n,operationID:S,paymentMethodCategory:C,paymentMethodCategories:x,preferredPaymentMethod:R,upstreamData:U,userAccountAccessToken:N,resetApplication:B},O?{inAppSdkParams:O}:{},L),o,function(){k.event(f.b.LOAD_COMPLETED),a.apply(void 0,arguments)})},r=function(){return _.a.getData("klarna-mdid")};if(_.a.isSupported())w.a.withTimeout(r,5e3).then(function(e){var t=e.value;return n(t)}).catch(function(){return n(null)});else{var s=m.a.get("klarna-mdid");n(s)}},H=u.a.get(e+":rawClientToken");Object(v.a)({id:e,clientToken:L,rawClientToken:H,container:D,tracker:k,options:n}).then(K).catch(function(){return T("bootstrap_failed")})}};t.a=E},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.cookie,n=t.match(new RegExp(e+"=([^;]+)"));if(n)return n[1]}t.a=r},function(e,t,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(196),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";function n(e,t,n,r){var i=t&&t.prototype instanceof o?t:o,a=Object.create(i.prototype),s=new p(r||[]);return a._invoke=c(e,n,s),a}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){function t(n,o,i,a){var s=r(e[n],e,o);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&m.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(c).then(function(e){u.value=e,i(u)},a)}a(s.arg)}function n(e,n){function r(){return new Promise(function(r,o){t(e,n,r,o)})}return o=o?o.then(r,r):r()}var o;this._invoke=n}function c(e,t,n){var o=k;return function(i,a){if(o===C)throw new Error("Generator is already running");if(o===x){if("throw"===i)throw a;return y()}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=f(s,n);if(u){if(u===R)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===k)throw o=x,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=C;var c=r(e,t,n);if("normal"===c.type){if(o=n.done?x:O,c.arg===R)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=x,n.method="throw",n.arg=c.arg)}}}function f(e,t){var n=e.iterator[t.method];if(n===v){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=v,f(e,t),"throw"===t.method))return R;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return R}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,R;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=v),t.delegate=null,R):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,R)}function l(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function h(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(l,this),this.reset(!0)}function d(e){if(e){var t=e[_];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(m.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=v,t.done=!0,t};return r.next=r}}return{next:y}}function y(){return{value:v,done:!0}}var v,g=Object.prototype,m=g.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},_=b.iterator||"@@iterator",w=b.asyncIterator||"@@asyncIterator",E=b.toStringTag||"@@toStringTag",A="object"==typeof e,S=t.regeneratorRuntime;if(S)return void(A&&(e.exports=S));S=t.regeneratorRuntime=A?e.exports:{},S.wrap=n;var k="suspendedStart",O="suspendedYield",C="executing",x="completed",R={},P={};P[_]=function(){return this};var I=Object.getPrototypeOf,T=I&&I(I(d([])));T&&T!==g&&m.call(T,_)&&(P=T);var L=a.prototype=o.prototype=Object.create(P);i.prototype=L.constructor=a,a.constructor=i,a[E]=i.displayName="GeneratorFunction",S.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},S.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,E in e||(e[E]="GeneratorFunction")),e.prototype=Object.create(L),e},S.awrap=function(e){return{__await:e}},s(u.prototype),u.prototype[w]=function(){return this},S.AsyncIterator=u,S.async=function(e,t,r,o){var i=new u(n(e,t,r,o));return S.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},s(L),L[E]="Generator",L[_]=function(){return this},L.toString=function(){return"[object Generator]"},S.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},S.values=d,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(h),!e)for(var t in this)"t"===t.charAt(0)&&m.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=v)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=v),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=m.call(o,"catchLoc"),s=m.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&m.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,R):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),R},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),h(n),R}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;h(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:d(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=v),R}}}(function(){return this}()||Function("return this")())},function(e,t,n){"use strict";function r(e){var t=e.loaderType,n=document.createElement("div"),r="kp-loader-"+Date.now().toString(16);if(t===o.c.SKELETON){n.innerHTML='\n      <div class="klarna-payments-skeleton">\n        <div class="klarna-payments-skeleton-container">\n          <div class="klarna-payments-skeleton-paragraph is-short"></div>\n          <div class="klarna-payments-skeleton-paragraph is-short"></div>\n          <div class="klarna-payments-skeleton-paragraph"></div>\n        </div>\n        <div class="klarna-payments-skeleton-paragraph is-medium"></div>\n      </div>\n    ';var i=n.querySelector(".klarna-payments-skeleton"),a=document.createElement("style");return a.innerHTML="      \n      .klarna-payments-skeleton {\n        display: flex;\n        flex-direction: column;\n        width: 100%;\n        max-width: 600px;\n        min-width: 240px;\n        opacity: 1;\n        transition: opacity "+o.a+"s ease-in;\n      }\n      \n      .klarna-payments-skeleton.is-hidden {\n        opacity: 0;\n      }\n\n      .klarna-payments-skeleton-container {\n        display: flex;\n        flex-direction: column;\n        padding: 10px 15px 0;\n        margin-bottom: 10px;\n        background-color: #f0eeeb;\n      }\n      \n      .klarna-payments-skeleton-paragraph {\n        margin: 0 0 10px;\n        background-color: #e1dfdf;\n        height: 15px;\n        width: 100%;\n\n        animation-name: shimmer;\n        animation-duration: 1.5s;\n        animation-iteration-count: infinite;\n\n        -webkit-animation-name: shimmer;\n        -webkit-animation-duration: 1.5s;\n        -webkit-animation-iteration-count: infinite;\n      }\n      \n      .klarna-payments-skeleton-paragraph.is-short {\n        width: 33%;\n      }\n      \n      .klarna-payments-skeleton-paragraph.is-medium {\n        width: 66%;\n      }\n      \n      @keyframes shimmer {\n        0% {\n          opacity: 1;\n        }\n        30% {\n          opacity: 0.6;\n        }\n        50% {\n          opacity: 1;\n        }\n        100% {\n          opacity: 1;\n        }\n      }\n    ",{el:i,styles:a}}var s=document.createElement("style");return s.innerHTML="\n    .klarna-payments-loader {\n      display: inline-block;\n      position: relative;\n      width: 30px;\n      height: 30px;\n      box-sizing: border-box;\n      transform: scale(.65);\n    }\n    .klarna-payments-loader div {\n      box-sizing: border-box;\n      display: block;\n      position: absolute;\n      box-sizing: border-box;\n      width: 30px;\n      height: 30px;\n      border: 3px solid #000;\n      border-radius: 50%;\n      animation: klarna-payments-loader 1.3s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n      border-color: #000 transparent transparent transparent;\n    }\n    .klarna-payments-loader div:nth-child(1) {\n      animation-delay: -0.45s;\n    }\n    .klarna-payments-loader div:nth-child(2) {\n      animation-delay: -0.3s;\n    }\n    .klarna-payments-loader div:nth-child(3) {\n      animation-delay: -0.15s;\n    }\n    @keyframes klarna-payments-loader {\n      0% {\n        transform: rotate(0deg);\n      }\n      100% {\n        transform: rotate(360deg);\n      }\n    }\n  ",n.innerHTML='\n    <div id="'+r+'" class="klarna-payments-loader"><div></div><div></div><div></div><div></div></div>\n  ',{el:n.querySelector("div"),styles:s}}t.a=r;var o=n(41)},function(e,t,n){"use strict";function r(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function o(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent("on"+t,n)}t.a=r,t.b=o},function(e,t,n){"use strict";var r=n(95),o=n(67),i=function(e,t){return function(n){return Object(o.a)(e+":"+r.c,n,t)}},a=function(e,t){return function(){return Object(o.a)(e+":"+r.b,t)}},s=function(e,t){return function(){return Object(o.a)(e+":"+r.a,t)}},u=function(e,t){return function(n){return Object(o.a)(e+":"+r.d,n,t)}},c=function(e,t){return function(){return Object(o.a)(e+":"+r.f,t)}},f=function(e,t){return function(){return Object(o.a)(e+":"+r.e,t)}},l=function(e,t){return{heightChanged:i(e,t),fullscreenOverlayShown:a(e,t),fullscreenOverlayHidden:s(e,t),paymentMethodSelected:u(e,t),userAccountLoginRequested:c(e,t),userAccountLoginReady:f(e,t)}};t.a=l},function(e,t,n){"use strict";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new o(n,r||e,i),s=c?c+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],a]:e._events[s].push(a):(e._events[s]=a,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}var u=Object.prototype.hasOwnProperty,c="~";Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(c=!1)),s.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)u.call(e,t)&&n.push(c?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},s.prototype.listeners=function(e){var t=c?c+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,i=new Array(o);r<o;r++)i[r]=n[r].fn;return i},s.prototype.listenerCount=function(e){var t=c?c+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,r,o,i){var a=c?c+e:e;if(!this._events[a])return!1;var s,u,f=this._events[a],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,n),!0;case 4:return f.fn.call(f.context,t,n,r),!0;case 5:return f.fn.call(f.context,t,n,r,o),!0;case 6:return f.fn.call(f.context,t,n,r,o,i),!0}for(u=1,s=new Array(l-1);u<l;u++)s[u-1]=arguments[u];f.fn.apply(f.context,s)}else{var h,p=f.length;for(u=0;u<p;u++)switch(f[u].once&&this.removeListener(e,f[u].fn,void 0,!0),l){case 1:f[u].fn.call(f[u].context);break;case 2:f[u].fn.call(f[u].context,t);break;case 3:f[u].fn.call(f[u].context,t,n);break;case 4:f[u].fn.call(f[u].context,t,n,r);break;default:if(!s)for(h=1,s=new Array(l-1);h<l;h++)s[h-1]=arguments[h];f[u].fn.apply(f[u].context,s)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,n,r){var o=c?c+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var i=this._events[o];if(i.fn)i.fn!==t||r&&!i.once||n&&i.context!==n||a(this,o);else{for(var s=0,u=[],f=i.length;s<f;s++)(i[s].fn!==t||r&&!i[s].once||n&&i[s].context!==n)&&u.push(i[s]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=c?c+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=c,s.EventEmitter=s,e.exports=s},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.b)(e.baseURL,e.path,"index.html"),n=encodeURIComponent(s()({DEVICE_RECOGNITION_URL:Object(c.b)(e.requestBaseURL,"device_recognition"),AUTH_HEADER:" ",TYPE1:{enabled:f(e)},TYPE2:i()({},l(e)?{enabled:!0,ref:e.sessionID}:{enabled:!1}),TYPE3:i()({},h(e)?{enabled:!0,orgId:p(e),ref:e.sessionID}:{enabled:!1})}));return Object(u.b)({container:e.container,url:t+"#"+n,id:e.id,onCreate:e.onCreate,onLoad:e.onLoad,style:e.style,timeout:e.timeout,reCreateIframe:e.reCreateIframe,sandbox:e.shouldSandbox?e.sandbox:null})}t.a=r;var o=n(3),i=n.n(o),a=n(42),s=n.n(a),u=n(26),c=n(32),f=function(e){var t=e.type1,n=e.purchaseCountry;return t.supportedCountries.indexOf(n)>-1},l=function(e){var t=e.type2,n=e.purchaseCountry;return t.supportedCountries.indexOf(n)>-1},h=function(e){var t=e.type3,n=e.purchaseCountry;return t.supportedCountries.indexOf(n)>-1},p=function(e){var t=e.type3,n=e.purchaseCountry;return t.orgId[n]||t.orgId.EU}},function(e,t,n){"use strict";function r(e){try{var t=window.getComputedStyle(e).marginTop;return t?parseInt(t):0}catch(e){return 0}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=Object(d.b)(e.baseURL,e.entry),o=e.id(e.name),i=e.title(e.name),a=void 0,s=function(n){var i=n.iframe,s=!1,u=void 0,l=void 0,h=void 0;a=Object(p.a)(i,o,!0,{show:function(){s||(l=r(document.documentElement),h=r(document.body),u=window.pageYOffset||document.documentElement.scrollTop);var n=function(){c({iframe:i,topPosition:u,extraDocumentTopOffset:l,extraBodyTopOffset:h,shouldUseLayoutStyleFix:e.shouldUseLayoutStyleFix}),t.fullscreenOverlayShown(),s=!0};y.a.isSupported()&&!m?(m=!0,y.a.fullscreenReplaceWebView().then(function(e){e.success?(n(),y.a.fullscreenMoveWebView().then(function(e){e.success||y.a.fullscreenRestoreWebView(),m=!1})):m=!1})):(n(),m=!1)},hide:function(){var n=function(){f({iframe:i,topPosition:u,shouldUseLayoutStyleFix:e.shouldUseLayoutStyleFix}),t.fullscreenOverlayHidden(),s=!1};y.a.isSupported()&&!b?(b=!0,y.a.fullscreenReplaceOverlay().then(function(e){e.success&&(n(),y.a.fullscreenRestoreWebView()),b=!1})):(n(),b=!1)},nativeHookApi:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=y.a[e],i="function"==typeof n[n.length-1]?n.pop():function(){};"function"==typeof o&&o.apply(void 0,n).then(i)}})};return e.scrollBlockStyleContainer&&e.scrollBlockStyleContainer.appendChild(g),Object(h.b)({container:e.container,url:n+"#"+e.params+"&",id:o,title:i,onCreate:e.onCreate,onLoad:e.onLoad,style:e.style,timeout:e.timeout,sandbox:e.shouldSandbox?e.sandbox:null,shouldAllowCamera:e.shouldAllowCamera,beforeLoad:s}).then(function(e){return[e,a]})}function i(e,t,n){g.innerHTML="\n    html."+v+" {\n      overflow: visible !important;\n    }\n    body."+v+" {\n      width: 100% !important;\n      height: 100% !important;\n      min-height: 100% !important;\n      top: "+-(e-n)+"px !important;\n      background-position-y: "+-(e-n)+"px !important;\n      overflow: hidden !important;\n      position: "+t+" !important;\n      box-sizing: border-box !important;\n    }\n  "}function a(){window.scrollTo(0,0)}function s(e,t,n){return i(e,n?"absolute":"fixed",t),n&&window.addEventListener("scroll",a),setTimeout(function(){l.a(document.documentElement,v),l.a(document.body,v)},10),g}function u(e,t){t&&window.removeEventListener("scroll",a),l.b(document.documentElement,v),l.b(document.body,v),void 0!==e&&window.scrollTo(0,e)}function c(e){var t=e.iframe,n=e.topPosition,r=e.extraDocumentTopOffset,o=e.extraBodyTopOffset,i=e.shouldUseLayoutStyleFix;t.style.marginTop=n-(r+o)+"px",t.style.height="100%",t.style.opacity="1",t.style.position=i?"fixed":"absolute",s(n,r,i)}function f(e){var t=e.iframe,n=e.topPosition,r=e.shouldUseLayoutStyleFix;t.style.height="0",t.style.opacity="0",u(n,r)}t.a=o;var l=n(203),h=n(26),p=n(45),d=n(32),y=n(7),v="klarna-payments-fso-open",g=document.createElement("style"),m=!1,b=!1},function(e,t,n){"use strict";function r(e,t){RegExp(t).test(e.className)||(e.className?e.className+=" "+t:e.className=t)}function o(e,t){var n=e.className.split(" ");e.className=n.filter(function(e){return e!==t}).join(" ")}t.a=r,t.b=o},function(e,t,n){"use strict";var r=(n(96),n(207));n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";function r(e,t){for(e=e.split(",");e.length;){var n=e.pop();o[n]||(o[n]=t)}}var o=window.console||{};r("memory",{});r("assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn",function(){}),e.exports=o},function(e,t,n){"use strict";var r=n(42),o=n.n(r),i=n(36),a=n.n(i),s=n(68),u=n.n(s),c=function(){function e(t){a()(this,e),this.origin=t.origin,this.target=t.target,this.frame=t.frame,this.debug=t.debug,this.console=t.console||console,this.sendPlainObject=t.sendPlainObject,this.sourceID=t.sourceID||"unknown",this.disableMessageSourceCheck=!!t.disableMessageSourceCheck,this._listener=null,this.onMessage=function(){throw new Error("Missing `onMessage` callback")},this.bindToMessage(this.onPostMessage,this)}return u()(e,null,[{key:"addListener",value:function(e,t){window.removeEventListener?window.addEventListener("message",t,!1):window.attachEvent("on"+e,t,!1)}},{key:"removeListener",value:function(e,t){window.removeEventListener?window.removeEventListener("message",t):window.detachEvent("on"+e,t)}}]),u()(e,[{key:"getTarget",value:function(){return this.frame?"function"==typeof this.frame?this.frame():this.frame.contentWindow:this.target}},{key:"hasTarget",value:function(){try{return!!this.getTarget()}catch(e){return!1}}},{key:"onPostMessage",value:function(e){var t=void 0;try{if(!this.disableMessageSourceCheck&&this.hasTarget()&&!f(e.srcElement)&&!l(e.srcElement)&&e.source!==this.getTarget())return void(this.debug&&this.console.warn("[Posten(%s)] ignored message:",this.sourceID,e));if("*"!==this.origin&&e.origin!==this.origin)return void(this.debug&&this.console.warn("[Posten(%s)] rejected message from "+e.origin+", expecting "+this.origin+". Target window:",this.sourceID,this.getTarget()));t=this.sendPlainObject?e.data:JSON.parse(e.data),this.debug&&this.console.info("%c [Posten(%s) <- %s] message received:","color: #16a085",this.sourceID,e.origin||"unknown",t),this.onMessage(null,t,e)}catch(e){this.onMessage(e)}}},{key:"send",value:function(e){if(!this.sendPlainObject)for(var t in e)if(e[t]&&e[t].toJSON)try{e[t].toJSON=null}catch(e){}var n=void 0;f(e.port)&&(n=e.port,delete e.port);var r=this.getTarget(),i=this.sendPlainObject?e:o()(e);f(r)||l(r)?r.postMessage(i):r.postMessage(i,this.origin,n?[n]:[]),this.debug&&this.console.info("%c [Posten -> %s] sending message:","color: #16a085",this.origin,e)}},{key:"bindToMessage",value:function(t,n){this._listener=function(){t.apply(n,arguments)};var r=this.getTarget();f(r)||l(r)?r.onmessage=this._listener:e.addListener("message",this._listener)}},{key:"unbind",value:function(){if(this._listener){var t=this.getTarget();f(t)||l(t)?t.onmessage=null:e.removeListener("message",this._listener),this._listener=null}}}]),e}();t.a=c;var f=function(e){return"MessagePort"in window&&e instanceof window.MessagePort},l=function(e){return"BroadcastChannel"in window&&e instanceof window.BroadcastChannel}},function(e,t,n){"use strict";var r=n(59),o=n.n(r),i=n(3),a=n.n(i),s=n(11),u=n.n(s),c=n(70),f=n.n(c),l=n(36),h=n.n(l),p=n(68),d=n.n(p),y=n(74),v=n.n(y),g=n(83),m=n.n(g),b=n(96),_=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h()(this,t);var r=v()(this,(t.__proto__||f()(t)).call(this,e));return r.addMessageHandler("rpc",function(e){r.onRPCMessage(e)}),r.methods=n,r.callbacks={},r.sequence=0,r}return m()(t,e),d()(t,[{key:"apply",value:function(e,t){var n=this,r=t[t.length-1],o=""+this.sequence++,i=void 0;return"function"==typeof r?(this.callbacks[o]=r,t=t.slice(0,-1)):i=new u.a(function(e){n.callbacks[o]=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e(n)}}),this.send({action:"rpc",seq:o,method:e,args:t}),i}},{key:"call",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.apply(e,n)}},{key:"addMethods",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.methods=a()({},this.methods,e)}},{key:"onRequest",value:function(e){var t=this,n=e.method,r=e.seq,i=e.args,a=void 0===i?[]:i,s=this.methods[n];if(s&&"function"==typeof s){var u=a.concat(function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];t.send({action:"rpc",responseSeq:r,args:n})});s.apply(void 0,o()(u))}}},{key:"onResponse",value:function(e){var t=e.responseSeq,n=e.args,r=void 0===n?[]:n;if(t){var i=this.callbacks[t];delete this.callbacks[t],"function"==typeof i&&i.apply(void 0,o()(r))}}},{key:"onRPCMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.method?this.onRequest(e):e.responseSeq&&this.onResponse(e)}}]),t}(b.a);t.a=_},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2],r=Object(c.b)(e.baseURL,e.entry),l=e.id(e.name),p=e.title(e.name),d=void 0,y=function(r){var a=r.iframe,c=r.removeLoader,p=n?n(a):function(){};d=Object(s.a)(a,l,!0,{startIframeVisibilityPolling:function(t){o(a,e,t)},trackEvent:p,redirect:function(t){i.a.isSupported()?i.a.openExternalApp(t).then(function(e){e.success||i.a.openExternalBrowser(t)}):Object(h.a)()&&"function"==typeof e.onRedirect?(p(u.b.ON_REDIRECT_HANDLER_CALLED),e.onRedirect(t)):Object(f.a)(t)},onShowExternalDocument:function(t,n){if("function"==typeof e.onShowExternalDocument){p(u.b.ON_SHOW_EXTERNAL_DOCUMENT_HANDLER_CALLED,{document_url:t});n(!1===e.onShowExternalDocument(t))}else p(u.b.ON_SHOW_EXTERNAL_DOCUMENT_FALLBACK_CALLED,{document_url:t}),n(!1)},onPaymentMethodSelected:function(e){t.paymentMethodSelected(e)},onUserAccountLoginRequested:function(){t.userAccountLoginRequested()},onUserAccountLoginReady:function(){t.userAccountLoginReady()},nativeHookApi:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=i.a[e],a="function"==typeof n[n.length-1]?n.pop():function(){};"function"==typeof o&&o.apply(void 0,n).then(a)},removeLoader:c}),d.addMessageHandler("setHeight",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=parseInt(e.height,10);a.style.height=n+"px",t.heightChanged(n),i.a.isSupported()&&i.a.heightChanged(n)})};return Object(a.b)({showLoader:e.showLoader,loaderType:e.loaderType,container:e.container,url:r+"#"+e.params+"&",id:l,title:p,onCreate:e.onCreate,onLoad:e.onLoad,style:e.style,loaderStyle:e.loaderStyle,timeout:e.timeout,sandbox:e.shouldSandbox?e.sandbox:null,shouldAllowCamera:e.shouldAllowCamera,beforeLoad:y}).then(function(e){return[e,d]})}function o(e,t,n){var r=function(){n(),t.onVisible&&t.onVisible(e)};Object(l.a)(e,r,{interval:p,timeout:d})}t.a=r;var i=n(7),a=n(26),s=n(45),u=n(13),c=n(32),f=n(209),l=n(210),h=n(46),p=300,d=12e4},function(e,t,n){"use strict";function r(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:window).location.href=e}t.a=r},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=setInterval(function(){Object(o.a)(e,.51)&&(clearInterval(r),r=null,t())},n.interval);setTimeout(function(){r&&clearInterval(r)},n.timeout)}t.a=r;var o=n(211)},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=function(e,t){return document.elementFromPoint(e,t)},r=window.innerWidth||document.documentElement.clientWidth,o=window.innerHeight||document.documentElement.clientHeight,i=e.getBoundingClientRect(),a=i.bottom-i.top,s=i.right-i.left,u=parseInt(a*t,10),c=parseInt(s*t,10),f=i.top>0&&i.top<o-u,l=i.bottom<o&&i.bottom>u,h=i.left>0&&i.left<r-c,p=i.right<r&&i.right>c;return!(!f&&!l||!h&&!p)&&(e.contains(n(i.left,i.top+u))||e.contains(n(i.right-1,i.top+u))||e.contains(n(i.top+c,i.top))||e.contains(n(i.bottom+c,i.bottom)))}t.a=r},function(e,t,n){"use strict";var r=n(11),o=n.n(r),i=function(e,t){if(!e)return o.a.reject(new Error("Provided element ID is null."));var n=void 0,r=new o.a(function(r){n=setInterval(function(){document.getElementById(e)||(clearInterval(n),r())},t)});return r.catch(function(){clearInterval(n)}),r};t.a=i},function(e,t,n){"use strict";var r=n(65),o=n.n(r),i=n(66),a=n.n(i),s=n(8);t.a=function(){function e(){return t.apply(this,arguments)}var t=a()(o.a.mark(function e(){var t,r,i,a,u,c,f,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},h=l.token,p=l.publicKey;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="crypto"in window&&"subtle"in window.crypto,t||n(214),r=n(215),i=r.Jose,a=r.JoseJWS,u=new i.WebCryptographer,c=void 0,e.prev=5,f=new a.Verifier(u,h),e.next=9,f.addRecipient(p,p.kid,"RS256");case 9:return e.next=11,f.verify();case 11:c=e.sent,e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(5),new s.f;case 18:if(null!=c&&(!c||c[0].verified)){e.next=20;break}throw new s.f;case 20:case"end":return e.stop()}},e,this,[[5,14]])}));return e}()},function(e,t,n){var r,o;/**
 * @file Web Cryptography API shim
 * @author Artem S Vybornov <vybornov@gmail.com>
 * @license MIT
 */
!function(n,i){r=[],void 0!==(o=function(){return i(n)}.apply(t,r))&&(e.exports=o)}("undefined"!=typeof self?self:this,function(e){"use strict";function t(e){return btoa(e).replace(/\=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function n(e){return e+="===",e=e.slice(0,-e.length%4),atob(e.replace(/-/g,"+").replace(/_/g,"/"))}function r(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function o(e){return e instanceof ArrayBuffer&&(e=new Uint8Array(e)),String.fromCharCode.apply(String,e)}function i(e){var t={name:(e.name||e||"").toUpperCase().replace("V","v")};switch(t.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":e.length&&(t.length=e.length);break;case"HMAC":e.hash&&(t.hash=i(e.hash)),e.length&&(t.length=e.length);break;case"RSAES-PKCS1-v1_5":e.publicExponent&&(t.publicExponent=new Uint8Array(e.publicExponent)),e.modulusLength&&(t.modulusLength=e.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":e.hash&&(t.hash=i(e.hash)),e.publicExponent&&(t.publicExponent=new Uint8Array(e.publicExponent)),e.modulusLength&&(t.modulusLength=e.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return t}function a(e){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}}[e.name][(e.hash||{}).name||e.length||""]}function s(e){(e instanceof ArrayBuffer||e instanceof Uint8Array)&&(e=JSON.parse(decodeURIComponent(escape(o(e)))));var t={kty:e.kty,alg:e.alg,ext:e.ext||e.extractable};switch(t.kty){case"oct":t.k=e.k;case"RSA":["n","e","d","p","q","dp","dq","qi","oth"].forEach(function(n){n in e&&(t[n]=e[n])});break;default:throw new TypeError("Unsupported key type")}return t}function u(e){var t=s(e);return w&&(t.extractable=t.ext,delete t.ext),r(unescape(encodeURIComponent(JSON.stringify(t)))).buffer}function c(e){var n=l(e),r=!1;n.length>2&&(r=!0,n.shift());var i={ext:!0};switch(n[0][0]){case"1.2.840.113549.1.1.1":var a=["n","e","d","p","q","dp","dq","qi"],s=l(n[1]);r&&s.shift();for(var u=0;u<s.length;u++)s[u][0]||(s[u]=s[u].subarray(1)),i[a[u]]=t(o(s[u]));i.kty="RSA";break;default:throw new TypeError("Unsupported key type")}return i}function f(e){var t,o=[["",null]],i=!1;switch(e.kty){case"RSA":for(var a=["n","e","d","p","q","dp","dq","qi"],s=[],u=0;u<a.length&&a[u]in e;u++){var c=s[u]=r(n(e[a[u]]));128&c[0]&&(s[u]=new Uint8Array(c.length+1),s[u].set(c,1))}s.length>2&&(i=!0,s.unshift(new Uint8Array([0]))),o[0][0]="1.2.840.113549.1.1.1",t=s;break;default:throw new TypeError("Unsupported key type")}return o.push(new Uint8Array(h(t)).buffer),i?o.unshift(new Uint8Array([0])):o[1]={tag:3,value:o[1]},new Uint8Array(h(o)).buffer}function l(e,t){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),t||(t={pos:0,end:e.length}),t.end-t.pos<2||t.end>e.length)throw new RangeError("Malformed DER");var n=e[t.pos++],r=e[t.pos++];if(r>=128){if(r&=127,t.end-t.pos<r)throw new RangeError("Malformed DER");for(var i=0;r--;)i<<=8,i|=e[t.pos++];r=i}if(t.end-t.pos<r)throw new RangeError("Malformed DER");var a;switch(n){case 2:a=e.subarray(t.pos,t.pos+=r);break;case 3:if(e[t.pos++])throw new Error("Unsupported bit string");r--;case 4:a=new Uint8Array(e.subarray(t.pos,t.pos+=r)).buffer;break;case 5:a=null;break;case 6:var s=btoa(o(e.subarray(t.pos,t.pos+=r)));if(!(s in A))throw new Error("Unsupported OBJECT ID "+s);a=A[s];break;case 48:a=[];for(var u=t.pos+r;t.pos<u;)a.push(l(e,t));break;default:throw new Error("Unsupported DER tag 0x"+n.toString(16))}return a}function h(e,t){t||(t=[]);var n=0,o=0,i=t.length+2;if(t.push(0,0),e instanceof Uint8Array){n=2,o=e.length;for(var a=0;a<o;a++)t.push(e[a])}else if(e instanceof ArrayBuffer){n=4,o=e.byteLength,e=new Uint8Array(e);for(var a=0;a<o;a++)t.push(e[a])}else if(null===e)n=5,o=0;else if("string"==typeof e&&e in S){var s=r(atob(S[e]));n=6,o=s.length;for(var a=0;a<o;a++)t.push(s[a])}else if(e instanceof Array){for(var a=0;a<e.length;a++)h(e[a],t);n=48,o=t.length-i}else{if(!("object"==typeof e&&3===e.tag&&e.value instanceof ArrayBuffer))throw new Error("Unsupported DER value "+e);e=new Uint8Array(e.value),n=3,o=e.byteLength,t.push(0);for(var a=0;a<o;a++)t.push(e[a]);o++}if(o>=128){var u=o,o=4;for(t.splice(i,0,u>>24&255,u>>16&255,u>>8&255,255&u);o>1&&!(u>>24);)u<<=8,o--;o<4&&t.splice(i,4-o),o|=128}return t.splice(i-2,2,n,o),t}function p(e,t,n,r){Object.defineProperties(this,{_key:{value:e},type:{value:e.type,enumerable:!0},extractable:{value:void 0===n?e.extractable:n,enumerable:!0},algorithm:{value:void 0===t?e.algorithm:t,enumerable:!0},usages:{value:void 0===r?e.usages:r,enumerable:!0}})}function d(e){return"verify"===e||"encrypt"===e||"wrapKey"===e}function y(e){return"sign"===e||"decrypt"===e||"unwrapKey"===e}if("function"!=typeof Promise)throw"Promise support required";var v=e.crypto||e.msCrypto;if(v){var g=v.subtle||v.webkitSubtle;if(g){var m=e.Crypto||v.constructor||Object,b=e.SubtleCrypto||g.constructor||Object,_=(e.CryptoKey||e.Key||Object,e.navigator.userAgent.indexOf("Edge/")>-1),w=!!e.msCrypto&&!_,E=!v.subtle&&!!v.webkitSubtle;if(w||E){var A={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},S={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};if(["generateKey","importKey","unwrapKey"].forEach(function(e){var t=g[e];g[e]=function(o,f,l){var h,m,b,_=[].slice.call(arguments);switch(e){case"generateKey":h=i(o),m=f,b=l;break;case"importKey":h=i(l),m=_[3],b=_[4],"jwk"===o&&(f=s(f),f.alg||(f.alg=a(h)),f.key_ops||(f.key_ops="oct"!==f.kty?"d"in f?b.filter(y):b.filter(d):b.slice()),_[1]=u(f));break;case"unwrapKey":h=_[4],m=_[5],b=_[6],_[2]=l._key}if("generateKey"===e&&"HMAC"===h.name&&h.hash)return h.length=h.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[h.hash.name],g.importKey("raw",v.getRandomValues(new Uint8Array(h.length+7>>3)),h,m,b);if(E&&"generateKey"===e&&"RSASSA-PKCS1-v1_5"===h.name&&(!h.modulusLength||h.modulusLength>=2048))return o=i(o),o.name="RSAES-PKCS1-v1_5",delete o.hash,g.generateKey(o,!0,["encrypt","decrypt"]).then(function(e){return Promise.all([g.exportKey("jwk",e.publicKey),g.exportKey("jwk",e.privateKey)])}).then(function(e){return e[0].alg=e[1].alg=a(h),e[0].key_ops=b.filter(d),e[1].key_ops=b.filter(y),Promise.all([g.importKey("jwk",e[0],h,!0,e[0].key_ops),g.importKey("jwk",e[1],h,m,e[1].key_ops)])}).then(function(e){return{publicKey:e[0],privateKey:e[1]}});if((E||w&&"SHA-1"===(h.hash||{}).name)&&"importKey"===e&&"jwk"===o&&"HMAC"===h.name&&"oct"===f.kty)return g.importKey("raw",r(n(f.k)),l,_[3],_[4]);if(E&&"importKey"===e&&("spki"===o||"pkcs8"===o))return g.importKey("jwk",c(f),l,_[3],_[4]);if(w&&"unwrapKey"===e)return g.decrypt(_[3],l,f).then(function(e){return g.importKey(o,e,_[4],_[5],_[6])});var A;try{A=t.apply(g,_)}catch(e){return Promise.reject(e)}return w&&(A=new Promise(function(e,t){A.onabort=A.onerror=function(e){t(e)},A.oncomplete=function(t){e(t.target.result)}})),A=A.then(function(e){return"HMAC"===h.name&&(h.length||(h.length=8*e.algorithm.length)),0==h.name.search("RSA")&&(h.modulusLength||(h.modulusLength=(e.publicKey||e).algorithm.modulusLength),h.publicExponent||(h.publicExponent=(e.publicKey||e).algorithm.publicExponent)),e=e.publicKey&&e.privateKey?{publicKey:new p(e.publicKey,h,m,b.filter(d)),privateKey:new p(e.privateKey,h,m,b.filter(y))}:new p(e,h,m,b)})}}),["exportKey","wrapKey"].forEach(function(e){var n=g[e];g[e]=function(i,u,c){var l=[].slice.call(arguments);switch(e){case"exportKey":l[1]=u._key;break;case"wrapKey":l[1]=u._key,l[2]=c._key}if((E||w&&"SHA-1"===(u.algorithm.hash||{}).name)&&"exportKey"===e&&"jwk"===i&&"HMAC"===u.algorithm.name&&(l[0]="raw"),!E||"exportKey"!==e||"spki"!==i&&"pkcs8"!==i||(l[0]="jwk"),w&&"wrapKey"===e)return g.exportKey(i,u).then(function(e){return"jwk"===i&&(e=r(unescape(encodeURIComponent(JSON.stringify(s(e)))))),g.encrypt(l[3],c,e)});var h;try{h=n.apply(g,l)}catch(e){return Promise.reject(e)}return w&&(h=new Promise(function(e,t){h.onabort=h.onerror=function(e){t(e)},h.oncomplete=function(t){e(t.target.result)}})),"exportKey"===e&&"jwk"===i&&(h=h.then(function(e){return(E||w&&"SHA-1"===(u.algorithm.hash||{}).name)&&"HMAC"===u.algorithm.name?{kty:"oct",alg:a(u.algorithm),key_ops:u.usages.slice(),ext:!0,k:t(o(e))}:(e=s(e),e.alg||(e.alg=a(u.algorithm)),e.key_ops||(e.key_ops="public"===u.type?u.usages.filter(d):"private"===u.type?u.usages.filter(y):u.usages.slice()),e)})),!E||"exportKey"!==e||"spki"!==i&&"pkcs8"!==i||(h=h.then(function(e){return e=f(s(e))})),h}}),["encrypt","decrypt","sign","verify"].forEach(function(e){var t=g[e];g[e]=function(n,r,o,a){if(w&&(!o.byteLength||a&&!a.byteLength))throw new Error("Empy input is not allowed");var s=[].slice.call(arguments),u=i(n);if(w&&("encrypt"===e||"decrypt"===e)&&r.algorithm.hash&&(s[0].hash=s[0].hash||r.algorithm.hash),w&&"decrypt"===e&&"AES-GCM"===u.name){var c=n.tagLength>>3;s[2]=(o.buffer||o).slice(0,o.byteLength-c),n.tag=(o.buffer||o).slice(o.byteLength-c)}s[1]=r._key;var f;try{f=t.apply(g,s)}catch(e){return Promise.reject(e)}return w&&(f=new Promise(function(t,n){f.onabort=f.onerror=function(e){n(e)},f.oncomplete=function(n){var n=n.target.result;if("encrypt"===e&&n instanceof AesGcmEncryptResult){var r=n.ciphertext,o=n.tag;n=new Uint8Array(r.byteLength+o.byteLength),n.set(new Uint8Array(r),0),n.set(new Uint8Array(o),r.byteLength),n=n.buffer}t(n)}})),f}}),w){var k=g.digest;g.digest=function(e,t){if(!t.byteLength)throw new Error("Empy input is not allowed");var n;try{n=k.call(g,e,t)}catch(e){return Promise.reject(e)}return n=new Promise(function(e,t){n.onabort=n.onerror=function(e){t(e)},n.oncomplete=function(t){e(t.target.result)}})},e.crypto=Object.create(v,{getRandomValues:{value:function(e){return v.getRandomValues(e)}},subtle:{value:g}}),e.CryptoKey=p}E&&(v.subtle=g,e.Crypto=m,e.SubtleCrypto=b,e.CryptoKey=p)}}}})},function(e,t,n){!function(t,n){e.exports=n()}(window,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(t){return e[t]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(){for(var e=[],t=0,n=0;n<arguments.length;n++)e.push(y(arguments[n])),t+=e[n].length;var r=new Uint8Array(t),o=0;for(n=0;n<arguments.length;n++)for(var i=0;i<e[n].length;i++)r[o++]=e[n][i];return s.assert(o===t,"arrayBufferConcat: unexpected offset"),r}n.r(t),n.d(t,"importPublicKey",function(){return u}),n.d(t,"importPrivateKey",function(){return c}),n.d(t,"importEcPublicKey",function(){return f}),n.d(t,"importEcPrivateKey",function(){return l}),n.d(t,"importRsaPublicKey",function(){return h}),n.d(t,"importRsaPrivateKey",function(){return p}),n.d(t,"isString",function(){return d}),n.d(t,"arrayish",function(){return y}),n.d(t,"convertRsaKey",function(){return v}),n.d(t,"arrayFromString",function(){return g}),n.d(t,"arrayFromUtf8String",function(){return m}),n.d(t,"stringFromArray",function(){return b}),n.d(t,"utf8StringFromArray",function(){return _}),n.d(t,"stripLeadingZeros",function(){return w}),n.d(t,"arrayFromInt32",function(){return E}),n.d(t,"arrayBufferConcat",function(){return o}),n.d(t,"sha256",function(){return A}),n.d(t,"isCryptoKey",function(){return S}),n.d(t,"Base64Url",function(){return k});var i=n(2),a=n(1),s=new i.a,u=function(e,t){switch(t){case"RS256":case"RS384":case"RS512":case"PS256":case"PS384":case"PS512":return h(e,t);case"ES256":case"ES384":case"ES512":return f(e,t);default:throw Error("unsupported algorithm: "+t)}},c=function(e,t){switch(t){case"RS256":case"RS384":case"RS512":case"PS256":case"PS384":case"PS512":return p(e,t);case"ES256":case"ES384":case"ES512":return l(e,t);default:throw Error("unsupported algorithm: "+t)}},f=function(e,t){var n=s.getSignConfig(t),r=s.getKeyUsageByAlg(t);return a.Jose.crypto.subtle.importKey("jwk",e,n.id,!1,[r.publicKey])},l=function(e,t){var n=s.getSignConfig(t),r=s.getKeyUsageByAlg(t);return a.Jose.crypto.subtle.importKey("jwk",e,n.id,!1,[r.privateKey])},h=function(e,t){var n,r,o=s.getKeyUsageByAlg(t);if("wrapKey"===o.publicKey)e.alg||(e.alg=t),n=v(e,["n","e"]),r=s.getCryptoConfig(t);else{var i={};for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(i[u]=e[u]);!i.alg&&t&&(i.alg=t),r=s.getSignConfig(i.alg),(n=v(i,["n","e"])).ext=!0}return a.Jose.crypto.subtle.importKey("jwk",n,r.id,!1,[o.publicKey])},p=function(e,t){var n,r,o=s.getKeyUsageByAlg(t);if("unwrapKey"===o.privateKey)e.alg||(e.alg=t),n=v(e,["n","e","d","p","q","dp","dq","qi"]),r=s.getCryptoConfig(t);else{var i={};for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(i[u]=e[u]);r=s.getSignConfig(t),!i.alg&&t&&(i.alg=t),(n=v(i,["n","e","d","p","q","dp","dq","qi"])).ext=!0}return a.Jose.crypto.subtle.importKey("jwk",n,r.id,!1,[o.privateKey])},d=function(e){return"string"==typeof e||e instanceof String},y=function(e){return e instanceof Array?e:e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):void s.assert(!1,"arrayish: invalid input")},v=function(e,t){var n,r={},o=[];t.map(function(t){void 0===e[t]&&o.push(t)}),o.length>0&&s.assert(!1,"convertRsaKey: Was expecting "+o.join()),void 0!==e.kty&&s.assert("RSA"===e.kty,"convertRsaKey: expecting rsaKey['kty'] to be 'RSA'"),r.kty="RSA";try{s.getSignConfig(e.alg),n=e.alg}catch(t){try{s.getCryptoConfig(e.alg),n=e.alg}catch(e){s.assert(n,"convertRsaKey: expecting rsaKey['alg'] to have a valid value")}}r.alg=n;for(var i=function(e){return parseInt(e,16)},a=0;a<t.length;a++){var u=t[a],c=e[u],f=new k;if("e"===u)"number"==typeof c&&(c=f.encodeArray(w(E(c))));else if(/^([0-9a-fA-F]{2}:)+[0-9a-fA-F]{2}$/.test(c)){var l=c.split(":").map(i);c=f.encodeArray(w(l))}else"string"!=typeof c&&s.assert(!1,"convertRsaKey: expecting rsaKey['"+u+"'] to be a string");r[u]=c}return r},g=function(e){s.assert(d(e),"arrayFromString: invalid input");var t=e.split("").map(function(e){return e.charCodeAt(0)});return new Uint8Array(t)},m=function(e){return s.assert(d(e),"arrayFromUtf8String: invalid input"),e=unescape(encodeURIComponent(e)),g(e)},b=function(e){e=y(e);for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},_=function(e){s.assert(e instanceof ArrayBuffer,"utf8StringFromArray: invalid input");var t=b(e);return decodeURIComponent(escape(t))},w=function(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));for(var t=!0,n=[],r=0;r<e.length;r++)t&&0===e[r]||(t=!1,n.push(e[r]));return n},E=function(e){s.assert("number"==typeof e,"arrayFromInt32: invalid input"),s.assert(e==e|0,"arrayFromInt32: out of range");for(var t=new Uint8Array(new Uint32Array([e]).buffer),n=new Uint8Array(4),r=0;r<4;r++)n[r]=t[3-r];return n.buffer},A=function(e){return a.Jose.crypto.subtle.digest({name:"SHA-256"},g(e)).then(function(e){return(new k).encodeArray(e)})},S=function(e){return"CryptoKey"===e.constructor.name||!!Object.prototype.hasOwnProperty.call(e,"algorithm")},k=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"encode",value:function(e){return s.assert(d(e),"Base64Url.encode: invalid input"),btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}},{key:"encodeArray",value:function(e){return this.encode(b(e))}},{key:"decode",value:function(e){return s.assert(d(e),"Base64Url.decode: invalid input"),atob(e.replace(/-/g,"+").replace(/_/g,"/"))}},{key:"decodeArray",value:function(e){return s.assert(d(e),"Base64Url.decodeArray: invalid input"),g(this.decode(e))}}])&&r(t.prototype,n),e}()},function(e,t,n){"use strict";n.r(t),function(e,r){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"crypto",function(){return i}),n.d(t,"Utils",function(){return h}),n.d(t,"setCrypto",function(){return y}),n.d(t,"Jose",function(){return v}),n.d(t,"JoseJWE",function(){return p}),n.d(t,"JoseJWS",function(){return d}),n.d(t,"caniuse",function(){return g});var i,a=n(0),s=n(4),u=n(5),c=n(6),f=n(7),l=n(2);n.d(t,"WebCryptographer",function(){return l.a});var h=a,p={Encrypter:s.a,Decrypter:u.a},d={Signer:c.a,Verifier:f.a},y=function(e){i=e};"undefined"!=typeof window&&void 0!==window.crypto&&(y(window.crypto),i.subtle||(i.subtle=i.webkitSubtle));var v={JoseJWS:d,JoseJWE:p,WebCryptographer:l.a,crypto:i,Utils:h};t.default={Jose:v,WebCryptographer:l.a},"function"!=typeof atob&&(atob=function(t){return e.from(t,"base64").toString("binary")}),"function"!=typeof btoa&&(btoa=function(t){return(t instanceof e?t:e.from(t.toString(),"binary")).toString("base64")});var g=function(){var e=!0;e=(e=(e=(e=e&&"function"==typeof Promise)&&"function"==typeof Promise.reject)&&"function"==typeof Promise.prototype.then)&&"function"==typeof Promise.all;var t=window||r;return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e&&"object"===o(t.crypto))&&"object"===o(t.crypto.subtle))&&"function"==typeof t.crypto.getRandomValues)&&"function"==typeof t.crypto.subtle.importKey)&&"function"==typeof t.crypto.subtle.generateKey)&&"function"==typeof t.crypto.subtle.exportKey)&&"function"==typeof t.crypto.subtle.wrapKey)&&"function"==typeof t.crypto.subtle.unwrapKey)&&"function"==typeof t.crypto.subtle.encrypt)&&"function"==typeof t.crypto.subtle.decrypt)&&"function"==typeof t.crypto.subtle.sign)&&"function"==typeof ArrayBuffer)&&("function"==typeof Uint8Array||"object"===("undefined"==typeof Uint8Array?"undefined":o(Uint8Array))))&&("function"==typeof Uint32Array||"object"===("undefined"==typeof Uint32Array?"undefined":o(Uint32Array))))&&"object"===("undefined"==typeof JSON?"undefined":o(JSON)))&&"function"==typeof JSON.parse)&&"function"==typeof JSON.stringify)&&"function"==typeof atob)&&"function"==typeof btoa}}.call(this,n(8).Buffer,n(3))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",function(){return a});var o=n(0),i=n(1),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setKeyEncryptionAlgorithm("RSA-OAEP"),this.setContentEncryptionAlgorithm("A256GCM"),this.setContentSignAlgorithm("RS256")}var t,n;return t=e,(n=[{key:"setKeyEncryptionAlgorithm",value:function(e){this.keyEncryption=this.getCryptoConfig(e)}},{key:"getKeyEncryptionAlgorithm",value:function(){return this.keyEncryption.jweName}},{key:"setContentEncryptionAlgorithm",value:function(e){this.content_encryption=this.getCryptoConfig(e)}},{key:"getContentEncryptionAlgorithm",value:function(){return this.content_encryption.jweName}},{key:"setContentSignAlgorithm",value:function(e){this.content_sign=this.getSignConfig(e)}},{key:"getContentSignAlgorithm",value:function(){return this.content_sign.jwa_name}},{key:"createIV",value:function(){var e=new Uint8Array(new Array(this.content_encryption.iv_bytes));return i.Jose.crypto.getRandomValues(e)}},{key:"createCek",value:function(){var e=this.getCekWorkaround(this.content_encryption);return i.Jose.crypto.subtle.generateKey(e.id,!0,e.enc_op)}},{key:"wrapCek",value:function(e,t){return i.Jose.crypto.subtle.wrapKey("raw",e,t,this.keyEncryption.id)}},{key:"unwrapCek",value:function(e,t){var n=this.getCekWorkaround(this.content_encryption),r=this.content_encryption.specific_cekBytes>0,o=this.keyEncryption.id;return i.Jose.crypto.subtle.unwrapKey("raw",e,t,o,n.id,r,n.dec_op)}},{key:"getCekWorkaround",value:function(e){var t=e.specific_cekBytes;if(t){if(16===t)return{id:{name:"AES-CBC",length:128},enc_op:["encrypt"],dec_op:["decrypt"]};if(32===t)return{id:{name:"AES-CBC",length:256},enc_op:["encrypt"],dec_op:["decrypt"]};if(64===t)return{id:{name:"HMAC",hash:{name:"SHA-256"}},enc_op:["sign"],dec_op:["verify"]};if(128===t)return{id:{name:"HMAC",hash:{name:"SHA-384"}},enc_op:["sign"],dec_op:["verify"]};this.assert(!1,"getCekWorkaround: invalid len")}return{id:e.id,enc_op:["encrypt"],dec_op:["decrypt"]}}},{key:"encrypt",value:function(e,t,n,r){var o=this,a=this.content_encryption;if(e.length!==a.iv_bytes)return Promise.reject(Error("invalid IV length"));if(a.auth.aead){var s=a.auth.tagBytes,u={name:a.id.name,iv:e,additionalData:t,tagLength:8*s};return n.then(function(e){return i.Jose.crypto.subtle.encrypt(u,e,r).then(function(e){var t=e.byteLength-s;return{cipher:e.slice(0,t),tag:e.slice(t)}})})}var c=this.splitKey(a,n,["encrypt"]),f=c[0],l=c[1].then(function(t){var n={name:a.id.name,iv:e};return i.Jose.crypto.subtle.encrypt(n,t,r)}),h=l.then(function(n){return o.truncatedMac(a,f,t,e,n)});return Promise.all([l,h]).then(function(e){return{cipher:e[0],tag:e[1]}})}},{key:"compare",value:function(e,t,n,r){return this.assert(n instanceof Uint8Array,"compare: invalid input"),this.assert(r instanceof Uint8Array,"compare: invalid input"),t.then(function(t){var o=i.Jose.crypto.subtle.sign(e.auth.id,t,n),a=i.Jose.crypto.subtle.sign(e.auth.id,t,r);return Promise.all([o,a]).then(function(e){var t=new Uint8Array(e[0]),n=new Uint8Array(e[1]);if(t.length!==n.length)throw new Error("compare failed");for(var r=0;r<t.length;r++)if(t[r]!==n[r])throw new Error("compare failed");return Promise.resolve(null)})})}},{key:"decrypt",value:function(e,t,n,r,a){var s=this;if(n.length!==this.content_encryption.iv_bytes)return Promise.reject(Error("decryptCiphertext: invalid IV"));var u=this.content_encryption;if(u.auth.aead){var c={name:u.id.name,iv:n,additionalData:t,tagLength:8*u.auth.tagBytes};return e.then(function(e){var t=o.arrayBufferConcat(r,a);return i.Jose.crypto.subtle.decrypt(c,e,t)})}var f=this.splitKey(u,e,["decrypt"]),l=f[0],h=f[1],p=this.truncatedMac(u,l,t,n,r);return Promise.all([h,p]).then(function(e){var t=e[0],o=e[1];return s.compare(u,l,new Uint8Array(o),a).then(function(){var e={name:u.id.name,iv:n};return i.Jose.crypto.subtle.decrypt(e,t,r)}).catch(function(){return Promise.reject(Error("decryptCiphertext: MAC failed."))})})}},{key:"sign",value:function(e,t,n){var r=this.content_sign;return e.alg&&(r=this.getSignConfig(e.alg)),n.then(function(n){var a=new o.Base64Url;return i.Jose.crypto.subtle.sign(r.id,n,o.arrayFromString(a.encode(JSON.stringify(e))+"."+a.encodeArray(t)))})}},{key:"verify",value:function(e,t,n,r,a){var s=this.content_sign;return r.then(function(r){return i.Jose.crypto.subtle.verify(s.id,r,n,o.arrayFromString(e+"."+t)).then(function(e){return{kid:a,verified:e}})})}},{key:"keyId",value:function(e){return o.sha256(e.n+"+"+e.d)}},{key:"splitKey",value:function(e,t,n){var r=t.then(function(e){return i.Jose.crypto.subtle.exportKey("raw",e)});return[r.then(function(t){if(8*t.byteLength!==e.id.length+8*e.auth.key_bytes)return Promise.reject(Error("encryptPlainText: incorrect cek length"));var n=t.slice(0,e.auth.key_bytes);return i.Jose.crypto.subtle.importKey("raw",n,e.auth.id,!1,["sign"])}),r.then(function(t){if(8*t.byteLength!==e.id.length+8*e.auth.key_bytes)return Promise.reject(Error("encryptPlainText: incorrect cek length"));var r=t.slice(e.auth.key_bytes);return i.Jose.crypto.subtle.importKey("raw",r,e.id,!1,n)})]}},{key:"getCryptoConfig",value:function(e){switch(e){case"RSA-OAEP":return{jweName:"RSA-OAEP",id:{name:"RSA-OAEP",hash:{name:"SHA-1"}}};case"RSA-OAEP-256":return{jweName:"RSA-OAEP-256",id:{name:"RSA-OAEP",hash:{name:"SHA-256"}}};case"A128KW":return{jweName:"A128KW",id:{name:"AES-KW",length:128}};case"A256KW":return{jweName:"A256KW",id:{name:"AES-KW",length:256}};case"dir":return{jweName:"dir"};case"A128CBC-HS256":return{jweName:"A128CBC-HS256",id:{name:"AES-CBC",length:128},iv_bytes:16,specific_cekBytes:32,auth:{key_bytes:16,id:{name:"HMAC",hash:{name:"SHA-256"}},truncated_bytes:16}};case"A256CBC-HS512":return{jweName:"A256CBC-HS512",id:{name:"AES-CBC",length:256},iv_bytes:16,specific_cekBytes:64,auth:{key_bytes:32,id:{name:"HMAC",hash:{name:"SHA-512"}},truncated_bytes:32}};case"A128GCM":return{jweName:"A128GCM",id:{name:"AES-GCM",length:128},iv_bytes:12,auth:{aead:!0,tagBytes:16}};case"A256GCM":return{jweName:"A256GCM",id:{name:"AES-GCM",length:256},iv_bytes:12,auth:{aead:!0,tagBytes:16}};default:throw Error("unsupported algorithm: "+e)}}},{key:"truncatedMac",value:function(e,t,n,r,a){return t.then(function(t){var s=new Uint8Array(o.arrayFromInt32(8*n.length)),u=new Uint8Array(8);u.set(s,4);var c=o.arrayBufferConcat(n,r,a,u);return i.Jose.crypto.subtle.sign(e.auth.id,t,c).then(function(t){return t.slice(0,e.auth.truncated_bytes)})})}},{key:"getSignConfig",value:function(e){switch(e){case"RS256":return{jwa_name:"RS256",id:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}}};case"RS384":return{jwa_name:"RS384",id:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}}};case"RS512":return{jwa_name:"RS512",id:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}}};case"PS256":return{jwa_name:"PS256",id:{name:"RSA-PSS",hash:{name:"SHA-256"},saltLength:20}};case"PS384":return{jwa_name:"PS384",id:{name:"RSA-PSS",hash:{name:"SHA-384"},saltLength:20}};case"PS512":return{jwa_name:"PS512",id:{name:"RSA-PSS",hash:{name:"SHA-512"},saltLength:20}};case"HS256":return{jwa_name:"HS256",id:{name:"HMAC",hash:{name:"SHA-256"}}};case"HS384":return{jwa_name:"HS384",id:{name:"HMAC",hash:{name:"SHA-384"}}};case"HS512":return{jwa_name:"HS512",id:{name:"HMAC",hash:{name:"SHA-512"}}};case"ES256":return{jwa_name:"ES256",id:{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}}};case"ES384":return{jwa_name:"ES384",id:{name:"ECDSA",namedCurve:"P-384",hash:{name:"SHA-384"}}};case"ES512":return{jwa_name:"ES512",id:{name:"ECDSA",namedCurve:"P-521",hash:{name:"SHA-512"}}};default:throw Error("unsupported algorithm: "+e)}}},{key:"getKeyUsageByAlg",value:function(e){switch(e){case"RS256":case"RS384":case"RS512":case"PS256":case"PS384":case"PS512":case"HS256":case"HS384":case"HS512":case"ES256":case"ES384":case"ES512":case"ES256K":return{publicKey:"verify",privateKey:"sign"};case"RSA-OAEP":case"RSA-OAEP-256":case"A128KW":case"A256KW":return{publicKey:"wrapKey",privateKey:"unwrapKey"};default:throw Error("unsupported algorithm: "+e)}}},{key:"assert",value:function(e,t){if(!e)throw new Error(t)}}])&&r(t.prototype,n),e}()},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",function(){return i});var o=n(0),i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cryptographer=t,this.keyPromise=n,this.userHeaders={}}var t,n;return t=e,(n=[{key:"addHeader",value:function(e,t){this.userHeaders[e]=t}},{key:"encrypt",value:function(e){var t,n;"dir"===this.cryptographer.getKeyEncryptionAlgorithm()?(t=Promise.resolve(this.keyPromise),n=[]):(t=this.cryptographer.createCek(),n=Promise.all([this.keyPromise,t]).then(function(e){var t=e[0],n=e[1];return this.cryptographer.wrapCek(n,t)}.bind(this)));var r=function(e,t){var n={};for(var r in this.userHeaders)n[r]=this.userHeaders[r];n.alg=this.cryptographer.getKeyEncryptionAlgorithm(),n.enc=this.cryptographer.getContentEncryptionAlgorithm();var i=(new o.Base64Url).encode(JSON.stringify(n)),a=this.cryptographer.createIV(),s=o.arrayFromString(i);return t=o.arrayFromUtf8String(t),this.cryptographer.encrypt(a,s,e,t).then(function(e){return e.header=i,e.iv=a,e})}.bind(this,t,e)();return Promise.all([n,r]).then(function(e){var t=e[0],n=e[1],r=new o.Base64Url;return n.header+"."+r.encodeArray(t)+"."+r.encodeArray(n.iv)+"."+r.encodeArray(n.cipher)+"."+r.encodeArray(n.tag)})}}])&&r(t.prototype,n),e}()},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",function(){return i});var o=n(0),i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cryptographer=t,this.keyPromise=n,this.headers={},this.base64UrlEncoder=new o.Base64Url}var t,n;return t=e,(n=[{key:"getHeaders",value:function(){return this.headers}},{key:"decrypt",value:function(e){var t,n=e.split(".");if(5!==n.length)return Promise.reject(Error("decrypt: invalid input"));if(this.headers=JSON.parse(this.base64UrlEncoder.decode(n[0])),!this.headers.alg)return Promise.reject(Error("decrypt: missing alg"));if(!this.headers.enc)return Promise.reject(Error("decrypt: missing enc"));if(this.cryptographer.setKeyEncryptionAlgorithm(this.headers.alg),this.cryptographer.setContentEncryptionAlgorithm(this.headers.enc),this.headers.crit)return Promise.reject(Error("decrypt: crit is not supported"));if("dir"===this.headers.alg)t=Promise.resolve(this.keyPromise);else{var r=this.base64UrlEncoder.decodeArray(n[1]);t=this.keyPromise.then(function(e){return this.cryptographer.unwrapCek(r,e)}.bind(this))}return this.cryptographer.decrypt(t,o.arrayFromString(n[0]),this.base64UrlEncoder.decodeArray(n[2]),this.base64UrlEncoder.decodeArray(n[3]),this.base64UrlEncoder.decodeArray(n[4])).then(o.utf8StringFromArray)}}])&&r(t.prototype,n),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}n.d(t,"a",function(){return s});var a=n(0),s=function(){function e(t){r(this,e),this.cryptographer=t,this.keyPromises={},this.waiting_kid=0,this.headers={},this.signer_aads={},this.signer_headers={}}return i(e,[{key:"addSigner",value:function(e,t,n,r){var o,i,s,u=this;if(a.isCryptoKey(e)?o=new Promise(function(t){t(e)}):(i=n&&n.alg?n.alg:u.cryptographer.getContentSignAlgorithm(),o=a.importPrivateKey(e,i,"sign")),t)s=new Promise(function(e){e(t)});else{if(a.isCryptoKey(e))throw new Error("keyId is a mandatory argument when the key is a CryptoKey");s=this.cryptographer.keyId(e)}return u.waiting_kid++,s.then(function(e){return u.keyPromises[e]=o,u.waiting_kid--,n&&(u.signer_aads[e]=n),r&&(u.signer_headers[e]=r),e})}},{key:"addSignature",value:function(e,t,n){if(a.isString(e)&&(e=JSON.parse(e)),e.payload&&a.isString(e.payload)&&e.protected&&a.isString(e.protected)&&e.header&&e.header instanceof Object&&e.signature&&a.isString(e.signature))return this.sign(u.fromObject(e),t,n);throw new Error("JWS is not a valid JWS object")}},{key:"sign",value:function(e,t,n){function r(e,t,n,r,i){var s;if(t||(t={}),t.alg||(t.alg=o.cryptographer.getContentSignAlgorithm(),t.typ="JWT"),t.kid||(t.kid=i),a.isString(e))s=a.arrayFromUtf8String(e);else try{s=a.arrayish(e)}catch(t){if(e instanceof u)s=a.arrayFromString((new a.Base64Url).decode(e.payload));else{if(!(e instanceof Object))throw new Error("cannot sign this message");s=a.arrayFromUtf8String(JSON.stringify(e))}}return o.cryptographer.sign(t,s,r).then(function(r){var o=new u(t,n,s,r);return e instanceof u?(delete o.payload,e.signatures?e.signatures.push(o):e.signatures=[o],e):o})}var o=this,i=[];if(0===Object.keys(o.keyPromises).length)throw new Error("No signers defined. At least one is required to sign the JWS.");if(o.waiting_kid)throw new Error("still generating key IDs");for(var s in o.keyPromises)Object.prototype.hasOwnProperty.call(o.keyPromises,s)&&i.push(s);return function e(t,n,i,a,s){if(s.length){var u=s.shift(),c=r(t,o.signer_aads[u]||n,o.signer_headers[u]||i,a[u],u);return s.length&&(c=c.then(function(t){return e(t,null,null,a,s)})),c}}(e,t,n,o.keyPromises,i)}}]),e}(),u=function(){function e(t,n,o,i){r(this,e),this.header=n;var s=new a.Base64Url;this.payload=s.encodeArray(o),i&&(this.signature=s.encodeArray(i)),this.protected=s.encode(JSON.stringify(t))}return i(e,[{key:"fromObject",value:function(t){var n=new e(t.protected,t.header,t.payload,null);return n.signature=t.signature,n.signatures=t.signatures,n}},{key:"JsonSerialize",value:function(){return JSON.stringify(this)}},{key:"CompactSerialize",value:function(){return this.protected+"."+this.payload+"."+this.signature}}]),e}()},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",function(){return a});var i=n(0),a=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var a,s,u,c,f,l,h;if(this.cryptographer=t,a=t.getContentSignAlgorithm(),i.isString(n))if(s=/^([0-9a-z_-]+)\.([0-9a-z_-]+)\.([0-9a-z_-]+)$/i.exec(n)){if(4!==s.length)throw new Error("wrong JWS compact serialization format");n={protected:s[1],payload:s[2],signature:s[3]}}else n=JSON.parse(n);else if("object"!==r(n))throw new Error("data format not supported");u=n.protected,c=n.header,f=n.payload,(l=n.signatures instanceof Array?n.signatures.slice(0):[]).forEach(function(e){e.aad=e.protected,e.protected=JSON.parse((new i.Base64Url).decode(e.protected))}),this.aad=u,h=(new i.Base64Url).decode(u);try{h=JSON.parse(h)}catch(e){}if(!h&&!c)throw new Error("at least one header is required");if(!h.alg)throw new Error("'alg' is a mandatory header");if(h.alg!==a)throw new Error("the alg header '"+h.alg+"' doesn't match the requested algorithm '"+a+"'");if(h&&h.typ&&"JWT"!==h.typ)throw new Error("typ '"+h.typ+"' not supported");n.signature&&l.unshift({aad:u,protected:h,header:c,signature:n.signature}),this.signatures=[];for(var p=0;p<l.length;p++)this.signatures[p]=JSON.parse(JSON.stringify(l[p])),this.signatures[p].signature=i.arrayFromString((new i.Base64Url).decode(l[p].signature));this.payload=f,this.keyPromises={},this.waiting_kid=0,o&&(this.keyfinder=o)}var t,n;return t=e,(n=[{key:"addRecipient",value:function(e,t,n){var r,o,a=this;if(o=i.isCryptoKey(e)?new Promise(function(t){t(e)}):i.importPublicKey(e,n||a.cryptographer.getContentSignAlgorithm(),"verify"),t)r=new Promise(function(e){e(t)});else{if(i.isCryptoKey(e))throw new Error("keyId is a mandatory argument when the key is a CryptoKey");console.log("it's unsafe to omit a keyId"),r=this.cryptographer.keyId(e)}return a.waiting_kid++,r.then(function(e){return a.keyPromises[e]=o,a.waiting_kid--,e})}},{key:"verify",value:function(){var e=this,t=e.signatures,n=e.keyPromises,r=e.keyfinder,o=[];if(!(r||Object.keys(e.keyPromises).length>0))throw new Error("No recipients defined. At least one is required to verify the JWS.");if(e.waiting_kid)throw new Error("still generating key IDs");return t.forEach(function(t){var a=t.protected.kid;r&&(n[a]=r(a)),o.push(e.cryptographer.verify(t.aad,e.payload,t.signature,n[a],a).then(function(t){return t.verified&&(t.payload=(new i.Base64Url).decode(e.payload)),t}))}),Promise.all(o)}}])&&o(t.prototype,n),e}()},function(e,t,n){"use strict";(function(e){function r(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=i.prototype:(null===e&&(e=new i(t)),e.length=t),e}function i(e,t,n){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),i.TYPED_ARRAY_SUPPORT?(e=t).__proto__=i.prototype:e=c(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!i.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|l(t,n),a=(e=o(e,r)).write(t,n);return a!==r&&(e=e.slice(0,a)),e}(e,t,n):function(e,t){if(i.isBuffer(t)){var n=0|f(t.length);return 0===(e=o(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?o(e,0):c(e,t);if("Buffer"===t.type&&H(t.data))return c(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(s(t),e=o(e,t<0?0:0|f(t)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t){var n=t.length<0?0:0|f(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function l(e,t){if(i.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return D(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return D(e).length;t=(""+t).toLowerCase(),r=!0}}function h(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return S(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function p(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function d(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if("number"==typeof t)return t&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,o){function i(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var a,s=1,u=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,u/=2,c/=2,n/=2}if(o){var f=-1;for(a=n;a<u;a++)if(i(e,a)===i(t,-1===f?0:a-f)){if(-1===f&&(f=a),a-f+1===c)return f*s}else-1!==f&&(a-=a-f),f=-1}else for(n+c>u&&(n=u-c),a=n;a>=0;a--){for(var l=!0,h=0;h<c;h++)if(i(e,a+h)!==i(t,h)){l=!1;break}if(l)return a}return-1}function v(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function g(e,t,n,r){return N(D(t,e.length-n),e,n,r)}function m(e,t,n,r){return N(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function b(e,t,n,r){return m(e,t,n,r)}function _(e,t,n,r){return N(U(t),e,n,r)}function w(e,t,n,r){return N(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?B.fromByteArray(e):B.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,u,c=e[o],f=null,l=c>239?4:c>223?3:c>191?2:1;if(o+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(f=u);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),o+=l}return function(e){var t=e.length;if(t<=F)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=F));return n}(r)}function S(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function O(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=M(e[i]);return o}function C(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function x(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,o,a){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function I(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function T(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return o||T(e,0,n,4),K.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,o){return o||T(e,0,n,8),K.write(e,t,n,r,52,8),n+8}function M(e){return e<16?"0"+e.toString(16):e.toString(16)}function D(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function U(e){return B.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(J,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function N(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var B=n(9),K=n(10),H=n(11);t.Buffer=i,t.SlowBuffer=function(e){return+e!=e&&(e=0),i.alloc(+e)},t.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),i.poolSize=8192,i._augment=function(e){return e.__proto__=i.prototype,e},i.from=function(e,t,n){return a(null,e,t,n)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(e,t,n){return function(e,t,n,r){return s(t),t<=0?o(e,t):void 0!==n?"string"==typeof r?o(e,t).fill(n,r):o(e,t).fill(n):o(e,t)}(null,e,t,n)},i.allocUnsafe=function(e){return u(null,e)},i.allocUnsafeSlow=function(e){return u(null,e)},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,a=Math.min(n,r);o<a;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!H(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=i.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!i.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},i.byteLength=l,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):h.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e,t,n,r,o){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),u=Math.min(a,s),c=this.slice(r,o),f=e.slice(t,n),l=0;l<u;++l)if(c[l]!==f[l]){a=c[l],s=f[l];break}return a<s?-1:s<a?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return d(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return d(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return g(this,e,t,n);case"ascii":return m(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var F=4096;i.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),i.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=i.prototype;else{var o=t-e;n=new i(o,void 0);for(var a=0;a<o;++a)n[a]=this[a+e]}return n},i.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},i.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},i.prototype.readUInt8=function(e,t){return t||x(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||x(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||x(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||x(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||x(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||x(e,4,this.length),K.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||x(e,4,this.length),K.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||x(e,8,this.length),K.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||x(e,8,this.length),K.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||R(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||R(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);R(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);R(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,a=r-n;if(this===e&&n<t&&t<r)for(o=a-1;o>=0;--o)e[o+t]=this[o+n];else if(a<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=i.isBuffer(e)?e:D(new i(e,r).toString()),u=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%u]}return this};var J=/[^+\/0-9A-Za-z-_]/g}).call(this,n(3))},function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function o(e,t,n){for(var r,o,a=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}t.byteLength=function(e){var t=r(e),n=t[0],o=t[1];return 3*(n+o)/4-o},t.toByteArray=function(e){for(var t,n=r(e),o=n[0],i=n[1],u=new s(function(e,t,n){return 3*(t+n)/4-n}(0,o,i)),c=0,f=i>0?o-4:o,l=0;l<f;l+=4)t=a[e.charCodeAt(l)]<<18|a[e.charCodeAt(l+1)]<<12|a[e.charCodeAt(l+2)]<<6|a[e.charCodeAt(l+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===i&&(t=a[e.charCodeAt(l)]<<2|a[e.charCodeAt(l+1)]>>4,u[c++]=255&t),1===i&&(t=a[e.charCodeAt(l)]<<10|a[e.charCodeAt(l+1)]<<4|a[e.charCodeAt(l+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,a=[],s=0,u=n-r;s<u;s+=16383)a.push(o(e,s,s+16383>u?u:s+16383));return 1===r?(t=e[n-1],a.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],a.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"=")),a.join("")};for(var i=[],a=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,f=u.length;c<f;++c)i[c]=u[c],a[u.charCodeAt(c)]=c;a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,f=-7,l=n?o-1:0,h=n?-1:1,p=e[t+l];for(l+=h,i=p&(1<<-f)-1,p>>=-f,f+=s;f>0;i=256*i+e[t+l],l+=h,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=r;f>0;a=256*a+e[t+l],l+=h,f-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=c}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,u,c=8*i-o-1,f=(1<<c)-1,l=f>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(t*u-1)*Math.pow(2,o),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=d,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+p]=255&a,p+=d,a/=256,c-=8);e[n+p-d]|=128*y}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}}])})},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=function(e){return!(!window.navigator||!window.navigator.userAgent)&&-1!==window.navigator.userAgent.indexOf(e)},o=function(){return r("iPhone")},i=function(){return r("Instagram")&&r("iPhone")}},function(e,t,n){"use strict";var r=n(218),o=n.n(r),i=n(219),a=n.n(i),s=n(220),u=n.n(s);t.a=function(){const e={production:o.a,staging:a.a,playground:u.a};return e}()},function(e,t){e.exports={e:"AQAB",n:"yXHCayn5o8gAcGptPdWEmafY5z7RHv5T7koH1Gow-9ojXNYODlUONRr1NAKc0I4ZORTN_0TsOG1UJbRV7toEGB9M7h2bOjCp5OpleOrSRPA7Urg31gL3oEH306QHj79CGARB3JBN5gV_ijaea71J_6gxjKSjy3Of4Dgn4F4EBZVcbJJ2SZi_NjITnLqvM6gEhx6XFI8_uPJ9PGAKxh8B-KTpShxmLTg5LGFexzcut-rrKiSvdfQHE4-Sw0qawUjnT7r_i1_HlbVcDf3JG_kETFHwBez1HlrD-nEeC194jntrkFten3XuRT1fydj-Pcpn83e6zX5elHlsmBGHiniSRQ",kty:"RSA",kid:"Mu6Syo5qeu_sFmzOCHFpcqrBdyRsQZCYiWXF1EMyOwI"}},function(e,t){e.exports={e:"AQAB",n:"xrI-00AUUVJ0-angy0sop2aV-D-AgPu4qhdYYUPhbnWzVEpmXorAzSFDZjvqbzjyHlUsCXhlPrCYlp5XcigyNI1rjEIRlJ_3rwVqLInEE4eEuVCRWWk9JEdQhfFUOkXqEaiHNLxpIkp51z6CKisZzCbl-MObUzHYPQFqjiO2PXk73CxJeRMV3ZS81O9OHubOEtxKUaSvoXU2rnlGMxyZ86Y_e9HlR_vOgZGS3brSh1mMUbv-U5dgNeik9lApRYVw2PVocMI-m5W5Fr5sIoZ5sASCdogdu1S_JFJTPUzeGm7xuJJtd4P86EhwF59eqo7K9CAJbPzSXBqZKfB7oInLOw",kty:"RSA",kid:"88mveuhf-Y6ucTIVLirLHHtT15yHYKFNiRCvYKW7iJc"}},function(e,t){e.exports={e:"AQAB",n:"maQhqXBSqr-Qyb3YftZu_5ZqytDEAWn2frrtG5VKrEJLOfl6xNNZJ4IvA4adykPWrceXU3F6Y_cDx-2ZO-w2UccHa2mNBQyDqQaQBn5xp2BZvPNFRzLPTwac_msIrgSa4yvbaUhU-d4uHkfzOXyeK9dDf8Thk7FurN0Blyqztu6jaYfhukYfO0c35_C5Xox1jg3w8OhgaNc6ho0ATTyxDJXTT9Eh0FwgmdZEC01kioRK3hkEb5UvXufcXhowDrSCYoCiwjRi5hDoBxYgYirjhckQVQ-KqgeNs5ikcXRTCYezN_NLFhim-agyIAlE3aXFYFxrBWS1mZfx9Yc7EIOB8w",kty:"RSA",kid:"tkiJj_cFIXuHgXhnzU6DtJGcwbWN4FV3pT5suTPKvYM"}},function(e,t,n){"use strict";var r=function(e){try{return window.sessionStorage.getItem(e)}catch(e){}return null};t.a={get:r}},function(e,t,n){"use strict";var r=n(65),o=n.n(r),i=n(66),a=n.n(i),s=n(11),u=n.n(s),c=this,f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return new u.a(function(){var n=a()(o.a.mark(function n(r){var i,a;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=void 0,a=setTimeout(function(){r(i)},t),n.prev=2,n.next=5,e();case 5:i=n.sent,n.next=10;break;case 8:n.prev=8,n.t0=n.catch(2);case 10:clearTimeout(a),r(i);case 12:case"end":return n.stop()}},n,c,[[2,8]])}));return function(e){return n.apply(this,arguments)}}())};t.a={withTimeout:f}},function(e,t,n){"use strict";var r=n(3),o=n.n(r),i=n(15),a=n(6),s=n(8),u=n(13),c=n(25),f=n(43),l=n(44),h=n(33),p=["US","GB"],d=function(e,t){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=Object(c.a)(),d=Object(u.a)(e,{api:e,oid:r}),y=Object(h.a)(),v=function(e){return e&&d.event(u.b.LOAD_PAYMENT_REVIEW_FAILED,{error:e}),n({show_form:!1})};if(!a.a.get(e+":initialized"))throw v(),new s.a;d.event(u.b.LOAD_PAYMENT_REVIEW_CALLED);var g=a.a.get(e+":clientToken")||{},m=g.purchaseCountry,b=t.container;if(-1===p.indexOf(m))throw v("OperationNotSupportedError"),new s.i(null,"The operation is not supported for the current purchase country.");if("string"!=typeof b){if(!(b instanceof HTMLElement))throw v("TypeError(options.container)"),new TypeError("Property `options.container` must be a string (CSS selector) or HTMLElement")}else if(!(b=document.querySelector(b)))throw v("InvalidContainerSelectorError"),new s.g;var _=Object(f.a)({id:e}),w=function(e){e.call("loadPaymentReview",o()({operationID:r,resetApplication:_},y?{inAppSdkParams:y}:{},g),function(){d.event(u.b.LOAD_PAYMENT_REVIEW_COMPLETED),n.apply(void 0,arguments)})},E={main:o()({},i.a.app.main,{style:o()({},i.a.app.main.style,{height:"80px"})})},A=a.a.get(e+":rawClientToken");Object(l.a)({id:e,clientToken:g,rawClientToken:A,container:b,options:t,tracker:d,appConfig:E,iframeName:"payment-review",renderFullscreen:!1}).then(w).catch(function(){return v("bootstrap_failed")})}};t.a=d},function(e,t,n){"use strict";function r(e,t,n){if("function"==typeof t){var r=[t,{}];n=r[0],t=r[1]}else if("function"==typeof e){var o=[e,{},{}];n=o[0],e=o[1],t=o[2]}else n=n||function(){};return[e||{},t||{},n]}var o=n(3),i=n.n(o),a=n(14),s=n.n(a),u=n(24),c=n.n(u),f=n(6),l=n(15),h=n(26),p=n(8),d=n(13),y=n(45),v=n(25),g=n(23),m=n(7),b=n(33),_=function(e){return function(t,n,o){var a=void 0,u=void 0,_=void 0;if("payments"===e){var w=r(t,n,o),E=c()(w,3);if(a=E[0],u=E[1],o=E[2],_="payments",-1!==s()(u).indexOf("payment_method_category")||-1!==s()(u).indexOf("instance_id")){var A=[a,u];u=A[0],a=A[1],_="payments_legacy"}}else{var S=r(t,n,o),k=c()(S,3);u=k[0],a=k[1],o=k[2],_="non_payments"}var O=Object(v.a)(),C=Object(d.a)(e,{api:e,oid:O}),x=l.a.supportedPaymentMethodCategories,R=f.a.get(e+":clientToken")||{},P=R.scheme,I=R.sessionType,T=a.payment_method_category,L=a.instance_id,j=a.auto_finalize,M=Object(b.a)(),D=L||T||I||e,U={payment_method_category:T,instance_id:L,auto_finalize:j};C.event(d.b.AUTHORIZE_CALLED,i()({},U,{signature:_}));var N=function(e){return e&&C.event(d.b.AUTHORIZE_FAILED,i()({},U,{error:e})),o({show_form:!1,approved:!1})};if("payments"===I){if(!P&&!T&&!L)throw N("PaymentMethodCategoryOrInstanceIDRequiredError"),new p.l;if(T&&-1===x.indexOf(T))throw N("PaymentMethodCategoryNotSupportedError"),new p.k(T);if(L&&!/^[\w-]+$/.test(L))throw N("InvalidInstanceIDError"),new p.h}var B=l.a.app.main.id(D),K=Object(h.a)(B);if(!K)throw N("ApplicationNotLoadedError"),new p.b;var H=i()({api:e,autoFinalize:j,operationID:O,paymentMethodCategory:T},M?{inAppSdkParams:M}:{},R),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mdid;n&&(m.a.isSupported()?m.a.putData("klarna-mdid",n):g.a.set("klarna-mdid",n));try{C.event(d.b.AUTHORIZE_COMPLETED,e),o(e)}catch(e){C.event(d.b.AUTHORIZE_UNEXPECTED_ERROR,{error:e.message})}};Object(y.a)(K,B).apply("authorize",[u,H,F])}};t.a=_},function(e,t,n){"use strict";function r(e,t,n){if("function"==typeof t){var r=[t,{}];n=r[0],t=r[1]}else if("function"==typeof e){var o=[e,{},{}];n=o[0],e=o[1],t=o[2]}else n=n||function(){};return[e||{},t||{},n]}var o=n(3),i=n.n(o),a=n(14),s=n.n(a),u=n(24),c=n.n(u),f=n(15),l=n(6),h=n(8),p=n(13),d=n(25),y=n(63),v=n(43),g=n(64),m=n(44),b=n(23),_=n(7),w=n(33),E=function(e){return function(t,n,o){var a=void 0,u=void 0,E=void 0;if("payments"===e){var A=r(t,n,o),S=c()(A,3);if(a=S[0],u=S[1],o=S[2],E="payments",-1!==s()(u).indexOf("payment_method_category")){var k=[a,u];u=k[0],a=k[1],E="payments_legacy"}}else{var O=r(t,n,o),C=c()(O,3);u=C[0],a=C[1],o=C[2],E="non_payments"}var x=Object(d.a)(),R=Object(p.a)(e,{api:e,oid:x}),P=Object(w.a)(),I=a.payment_method_category,T=a.payment_method_categories,L=a.instance_id,j={payment_method_category:I,payment_method_categories:T,instance_id:L};R.event(p.b.REAUTHORIZE_CALLED,i()({},j,{signature:E}));var M=function(e){return e&&R.event(p.b.REAUTHORIZE_FAILED,i()({},j,{error:e})),o({show_form:!1,approved:!1})};if(!l.a.get(e+":initialized"))throw M("ApplicationNotInitializedError"),new h.a;var D=l.a.get(e+":clientToken"),U=D.scheme,N=D.sessionType,B=document.body;Object(g.a)({scheme:U,sessionType:N,options:a,onError:M});var K=Object(y.a)(),H=Object(v.a)({id:e,instanceID:L,paymentMethodCategory:I}),F=function(t){t.call("reauthorize",i()({api:e,operationID:x,paymentMethodCategory:I,paymentMethodCategories:T,upstreamData:K,resetApplication:H},P?{inAppSdkParams:P}:{},D),u,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mdid;n&&(_.a.isSupported()?_.a.putData("klarna-mdid",n):b.a.set("klarna-mdid",n)),R.event(p.b.REAUTHORIZE_COMPLETED,e),o(e)})},J=l.a.get(e+":rawClientToken");Object(m.a)({id:e,clientToken:D,rawClientToken:J,container:B,tracker:R,options:a,appConfig:{main:i()({},f.a.app.main,{style:{display:"none"}})}}).then(F).catch(function(){return M("bootstrap_failed")})}};t.a=E},function(e,t,n){"use strict";function r(e,t,n){if("function"==typeof t){var r=[t,{}];n=r[0],t=r[1]}else if("function"==typeof e){var o=[e,{},{}];n=o[0],e=o[1],t=o[2]}else n=n||function(){};return[e||{},t||{},n]}var o=n(3),i=n.n(o),a=n(14),s=n.n(a),u=n(24),c=n.n(u),f=n(15),l=n(6),h=n(8),p=n(13),d=n(25),y=n(63),v=n(43),g=n(64),m=n(44),b=n(23),_=n(7),w=n(33),E=function(e){return function(t,n,o){var a=void 0,u=void 0,E=void 0;if("payments"===e){var A=r(t,n,o),S=c()(A,3);if(a=S[0],u=S[1],o=S[2],E="payments",-1!==s()(u).indexOf("payment_method_category")){var k=[a,u];u=k[0],a=k[1],E="payments_legacy"}}else{var O=r(t,n,o),C=c()(O,3);u=C[0],a=C[1],o=C[2],E="non_payments"}var x=Object(d.a)(),R=Object(p.a)(e,{api:e,oid:x}),P=a.payment_method_category,I=a.payment_method_categories,T=a.instance_id,L=Object(w.a)(),j={payment_method_category:P,payment_method_categories:I,instance_id:T};R.event(p.b.FINALIZE_CALLED,i()({},j,{signature:E}));var M=function(e){return e&&R.event(p.b.FINALIZE_FAILED,i()({},j,{error:e})),o({show_form:!1,approved:!1})};if(!l.a.get(e+":initialized"))throw M("ApplicationNotInitializedError"),new h.a;var D=l.a.get(e+":clientToken"),U=D.scheme,N=D.sessionType,B=document.body;Object(g.a)({scheme:U,sessionType:N,options:a,onError:M});var K=Object(y.a)(),H=Object(v.a)({id:e,instanceID:T,paymentMethodCategory:P}),F=function(t){t.call("finalize",i()({api:e,operationID:x,paymentMethodCategory:P,paymentMethodCategories:I,upstreamData:K,resetApplication:H},L?{inAppSdkParams:L}:{},D),u,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mdid;n&&(_.a.isSupported()?_.a.putData("klarna-mdid",n):b.a.set("klarna-mdid",n)),R.event(p.b.FINALIZE_COMPLETED,e),o(e)})},J=l.a.get(e+":rawClientToken");Object(m.a)({id:e,clientToken:D,rawClientToken:J,container:B,options:a,tracker:R,appConfig:{main:i()({},f.a.app.main,{style:{display:"none"}})}}).then(F).catch(function(){return M("bootstrap_failed")})}};t.a=E},function(e,t,n){"use strict";var r=n(8),o=n(67),i=n(95),a=n(46),s=function(e){return function(t,n){switch(t){case i.c:case i.b:case i.a:return Object(o.c)(e+":"+t,n);case i.d:case i.f:case i.e:if(Object(a.a)())return Object(o.c)(e+":"+t,n);throw new r.c(t);default:throw new r.c(t)}}};t.a=s},function(e,t,n){"use strict";var r=n(67),o=function(e){return function(t,n){return Object(r.b)(e+":"+t,n)}};t.a=o},function(e,t,n){"use strict";var r=n(15),o=n(26),i=n(45),a=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],a=t.instance_id||e,s=r.a.app.main.id(a),u=Object(o.a)(s),c={api:e};Object(i.a)(u,s).apply("validateCard",[{},c,n])}};t.a=a}]);